---
title: CListCtrl クラス
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: c8f1b8a9ed0ca8437ba40e77b47448d1bb209d20
ms.sourcegitcommit: effb516760c0f956c6308eeded48851accc96b92
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/12/2019
ms.locfileid: "70927917"
---
# <a name="clistctrl-class"></a>CListCtrl クラス

"リスト ビュー コントロール" の機能をカプセル化します。このコントロールには項目のコレクションを表示され、各項目はイメージ リストのアイコンとラベルで構成されます。

## <a name="syntax"></a>構文

```
class CListCtrl : public CWnd
```

## <a name="members"></a>メンバー

### <a name="public-constructors"></a>パブリック コンストラクター

|名前|説明|
|----------|-----------------|
|[CListCtrl:: CListCtrl](#clistctrl)|`CListCtrl` オブジェクトを構築します。|

### <a name="public-methods"></a>パブリック メソッド

|名前|説明|
|----------|-----------------|
|[CListCtrl:: ApproximateViewRect](#approximateviewrect)|リストビューコントロールの項目を表示するために必要な幅と高さを決定します。|
|[CListCtrl::Arrange](#arrange)|グリッドに項目を配置します。|
|[CListCtrl:: CancelEditLabel](#canceleditlabel)|項目のテキスト編集操作をキャンセルします。|
|[CListCtrl:: Create](#create)|リストコントロールを作成し、 `CListCtrl`オブジェクトにアタッチします。|
|[CListCtrl:: CreateDragImage](#createdragimage)|指定した項目のドラッグイメージリストを作成します。|
|[CListCtrl:: CreateEx](#createex)|指定された Windows 拡張スタイルを使用してリストコントロールを作成`CListCtrl`し、オブジェクトにアタッチします。|
|[CListCtrl::D eleteAllItems](#deleteallitems)|コントロールからすべての項目を削除します。|
|[CListCtrl::D eleteColumn](#deletecolumn)|リストビューコントロールから列を削除します。|
|[CListCtrl::D eleteItem](#deleteitem)|コントロールから項目を削除します。|
|[CListCtrl::D rawItem](#drawitem)|オーナー描画コントロールの視覚的な側面が変化したときに呼び出されます。|
|[CListCtrl:: EditLabel](#editlabel)|項目のテキストのインプレース編集を開始します。|
|[CListCtrl:: EnableGroupView](#enablegroupview)|リストビューコントロール内の項目をグループとして表示するかどうかを有効または無効にします。|
|[CListCtrl::EnsureVisible](#ensurevisible)|項目が確実に表示されるようにします。|
|[CListCtrl:: FindItem](#finditem)|特性が指定されたリストビューアイテムを検索します。|
|[CListCtrl:: GetBkColor](#getbkcolor)|リストビューコントロールの背景色を取得します。|
|[CListCtrl:: GetBkImage](#getbkimage)|リストビューコントロールの現在の背景イメージを取得します。|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|リストビューコントロールのコールバックマスクを取得します。|
|[CListCtrl:: GetCheck](#getcheck)|項目に関連付けられている状態イメージの現在の表示状態を取得します。|
|[CListCtrl:: GetColumn](#getcolumn)|コントロールの列の属性を取得します。|
|[CListCtrl:: Getカラムの配列](#getcolumnorderarray)|リストビューコントロールの列の順序 (左から右) を取得します。|
|[CListCtrl:: GetColumnWidth](#getcolumnwidth)|レポートビューまたはリストビュー内の列の幅を取得します。|
|[CListCtrl::GetCountPerPage](#getcountperpage)|リストビューコントロールに垂直方向に収めることができる項目の数を計算します。|
|[CListCtrl:: GetEditControl](#geteditcontrol)|項目のテキストを編集するために使用される編集コントロールのハンドルを取得します。|
|[CListCtrl:: GetEmptyText](#getemptytext)|現在のリストビューコントロールが空の場合に表示する文字列を取得します。|
|[CListCtrl:: GetExtendedStyle](#getextendedstyle)|リストビューコントロールの現在の拡張スタイルを取得します。|
|[CListCtrl:: GetFirstSelectedItemPosition](#getfirstselecteditemposition)|リストビューコントロール内で最初に選択されたリストビュー項目の位置を取得します。|
|[CListCtrl:: GetFocusedGroup](#getfocusedgroup)|現在のリストビューコントロールにキーボードフォーカスがあるグループを取得します。|
|[CListCtrl:: GetGroupCount](#getgroupcount)|現在のリストビューコントロール内のグループの数を取得します。|
|[CListCtrl:: GetGroupInfo](#getgroupinfo)|リストビューコントロールの指定したグループの情報を取得します。|
|[CListCtrl:: GetGroupInfoByIndex](#getgroupinfobyindex)|現在のリストビューコントロール内の指定されたグループに関する情報を取得します。|
|[CListCtrl:: GetGroupMetrics](#getgroupmetrics)|グループのメトリックを取得します。|
|[CListCtrl:: GetGroupRect](#getgrouprect)|現在のリストビューコントロール内の指定されたグループの外接する四角形を取得します。|
|[CListCtrl:: GetGroupState](#getgroupstate)|現在のリストビューコントロール内の指定されたグループの状態を取得します。|
|[CListCtrl:: GetHeaderCtrl](#getheaderctrl)|リストビューコントロールのヘッダーコントロールを取得します。|
|[CListCtrl:: GetHotCursor](#gethotcursor)|リストビューコントロールのホットトラッキングが有効な場合に使用されるカーソルを取得します。|
|[CListCtrl:: GetHotItem](#gethotitem)|現在カーソルの下にあるリストビューアイテムを取得します。|
|[CListCtrl:: GetHoverTime](#gethovertime)|リストビューコントロールの現在のホバー時間を取得します。|
|[CListCtrl:: GetImageList](#getimagelist)|リストビュー項目の描画に使用するイメージリストのハンドルを取得します。|
|[CListCtrl:: GetInsertMark](#getinsertmark)|挿入マークの現在位置を取得します。|
|[CListCtrl:: GetInsertMarkColor](#getinsertmarkcolor)|挿入マークの現在の色を取得します。|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|挿入ポイントの境界となる四角形を取得します。|
|[CListCtrl:: GetItem](#getitem)|リストビュー項目の属性を取得します。|
|[CListCtrl::GetItemCount](#getitemcount)|リストビューコントロール内の項目の数を取得します。|
|[CListCtrl:: GetItemData](#getitemdata)|項目に関連付けられているアプリケーション固有の値を取得します。|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|現在のリストビューコントロール内のサブ項目のすべてまたは一部の外接する四角形を取得します。|
|[CListCtrl:: GetItemPosition](#getitemposition)|リストビュー項目の位置を取得します。|
|[CListCtrl:: GetItemRect](#getitemrect)|項目の外接する四角形を取得します。|
|[CListCtrl:: GetItemSpacing](#getitemspacing)|現在のリストビューコントロール内の項目間の間隔を計算します。|
|[CListCtrl:: GetItemState](#getitemstate)|リストビュー項目の状態を取得します。|
|[CListCtrl:: GetItemText](#getitemtext)|リストビュー項目またはサブ項目のテキストを取得します。|
|[CListCtrl::GetNextItem](#getnextitem)|指定したプロパティを持ち、指定したアイテムに対して指定したリレーションシップを持つリストビューアイテムを検索します。|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|指定されたプロパティのセットを持つ、現在のリストビューコントロール内の項目のインデックスを取得します。|
|[CListCtrl:: GetNextSelectedItem](#getnextselecteditem)|リストビューの項目の位置のインデックスと、反復処理のために選択した次のリストビュー項目の位置を取得します。|
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|リストビューコントロールの現在の作業領域の数を取得します。|
|[CListCtrl:: GetOrigin](#getorigin)|リストビューコントロールの現在のビューの原点を取得します。|
|[CListCtrl:: GetOutlineColor](#getoutlinecolor)|リストビューコントロールの境界線の色を取得します。|
|[CListCtrl:: GetSelectedColumn](#getselectedcolumn)|リストコントロールで現在選択されている列のインデックスを取得します。|
|[CListCtrl:: GetSelectedCount](#getselectedcount)|リストビューコントロール内の選択された項目の数を取得します。|
|[CListCtrl:: GetSelectionMark](#getselectionmark)|リストビューコントロールの選択マークを取得します。|
|[CListCtrl::GetStringWidth](#getstringwidth)|指定されたすべての文字列を表示するために必要な列の最小幅を決定します。|
|[CListCtrl:: GetSubItemRect](#getsubitemrect)|リストビューコントロール内の項目の外接する四角形を取得します。|
|[CListCtrl:: GetTextBkColor](#gettextbkcolor)|リストビューコントロールのテキストの背景色を取得します。|
|[CListCtrl:: GetTextColor](#gettextcolor)|リストビューコントロールのテキストの色を取得します。|
|[CListCtrl:: Getタイル情報](#gettileinfo)|リストビューコントロール内のタイルに関する情報を取得します。|
|[CListCtrl:: Getタイル Viewinfo](#gettileviewinfo)|タイルビューのリストビューコントロールに関する情報を取得します。|
|[CListCtrl:: GetToolTips ヒント](#gettooltips)|リストビューコントロールがツールヒントを表示するために使用するツールヒントコントロールを取得します。|
|[CListCtrl::GetTopIndex](#gettopindex)|最上位の項目のインデックスを取得します。|
|[CListCtrl:: GetView](#getview)|リストビューコントロールのビューを取得します。|
|[CListCtrl:: GetViewRect](#getviewrect)|リストビューコントロール内のすべての項目の外接する四角形を取得します。|
|[CListCtrl:: Getワーク領域](#getworkareas)|リストビューコントロールの現在の作業領域を取得します。|
|[CListCtrl:: HasGroup](#hasgroup)|リストビューコントロールに指定したグループがあるかどうかを判断します。|
|[CListCtrl::HitTest](#hittest)|指定された位置にあるリストビューアイテムを決定します。|
|[CListCtrl::InsertColumn](#insertcolumn)|リストビューコントロールに新しい列を挿入します。|
|[CListCtrl:: InsertGroup](#insertgroup)|リストビューコントロールにグループを挿入します。|
|[CListCtrl:: InsertGroupSorted](#insertgroupsorted)|指定したグループを、順序付けられたグループのリストに挿入します。|
|[CListCtrl:: InsertItem](#insertitem)|リストビューコントロールに新しい項目を挿入します。|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|指定したポイントに最も近い挿入ポイントを取得します。|
|[CListCtrl:: IsGroupViewEnabled](#isgroupviewenabled)|リストビューコントロールに対してグループビューが有効かどうかを指定します。|
|[CListCtrl:: IsItemVisible](#isitemvisible)|現在のリストビューコントロール内の指定された項目を表示するかどうかを示します。|
|[CListCtrl:: MapIDToIndex](#mapidtoindex)|現在のリストビューコントロール内の項目の一意の ID をインデックスにマップします。|
|[CListCtrl:: MapIndexToID](#mapindextoid)|現在のリストビューコントロール内の項目のインデックスを一意の ID にマップします。|
|[CListCtrl:: MoveGroup](#movegroup)|指定されたグループを移動します。|
|[CListCtrl:: MoveItemToGroup](#moveitemtogroup)|指定されたグループを、リストビューコントロールの0から始まる指定されたインデックスに移動します。|
|[CListCtrl::RedrawItems](#redrawitems)|リストビューコントロールで項目の範囲を強制的に再描画します。|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|リストビューコントロールからすべてのグループを削除します。|
|[CListCtrl::RemoveGroup](#removegroup)|リストビューコントロールから指定されたグループを削除します。|
|[CListCtrl:: Scroll](#scroll)|リストビューコントロールの内容をスクロールします。|
|[CListCtrl:: SetBkColor](#setbkcolor)|リストビューコントロールの背景色を設定します。|
|[CListCtrl:: SetBkImage](#setbkimage)|リストビューコントロールの現在の背景イメージを設定します。|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|リストビューコントロールのコールバックマスクを設定します。|
|[CListCtrl:: SetCheck](#setcheck)|項目に関連付けられている状態イメージの現在の表示状態を設定します。|
|[CListCtrl:: SetColumn](#setcolumn)|リストビュー列の属性を設定します。|
|[CListCtrl:: Setカラム Norderarray](#setcolumnorderarray)|リストビューコントロールの列の順序 (左から右) を設定します。|
|[CListCtrl:: SetColumnWidth](#setcolumnwidth)|レポートビューまたはリストビューの列の幅を変更します。|
|[CListCtrl:: SetExtendedStyle](#setextendedstyle)|リストビューコントロールの現在の拡張スタイルを設定します。|
|[CListCtrl:: SetGroupInfo](#setgroupinfo)|リストビューコントロールの指定したグループの情報を設定します。|
|[CListCtrl:: SetGroupMetrics](#setgroupmetrics)|リストビューコントロールのグループメトリックを設定します。|
|[CListCtrl:: SetHotCursor](#sethotcursor)|リストビューコントロールのホットトラッキングが有効になっている場合に使用するカーソルを設定します。|
|[CListCtrl:: SetHotItem](#sethotitem)|リストビューコントロールの現在のホット項目を設定します。|
|[CListCtrl:: SetHoverTime](#sethovertime)|リストビューコントロールの現在のホバー時間を設定します。|
|[CListCtrl:: SetIconSpacing](#seticonspacing)|リストビューコントロールのアイコン間の間隔を設定します。|
|[CListCtrl::SetImageList](#setimagelist)|リストビューコントロールにイメージリストを割り当てます。|
|[CListCtrl:: SetInfoTip](#setinfotip)|ツールヒントのテキストを設定します。|
|[CListCtrl:: SetInsertMark](#setinsertmark)|定義された位置に挿入ポイントを設定します。|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|挿入ポイントの色を設定します。|
|[CListCtrl:: SetItem](#setitem)|リストビュー項目の属性の一部またはすべてを設定します。|
|[CListCtrl::SetItemCount](#setitemcount)|多数の項目を追加するためのリストビューコントロールを準備します。|
|[CListCtrl::SetItemCountEx](#setitemcountex)|仮想リストビューコントロールの項目数を設定します。|
|[CListCtrl:: SetItemData](#setitemdata)|項目のアプリケーション固有の値を設定します。|
|[CListCtrl::SetItemIndexState](#setitemindexstate)|現在のリストビューコントロールの項目の状態を設定します。|
|[CListCtrl:: SetItemPosition](#setitemposition)|リストビューコントロール内の指定した位置に項目を移動します。|
|[CListCtrl:: SetItemState](#setitemstate)|リストビューコントロール内の項目の状態を変更します。|
|[CListCtrl:: SetItemText](#setitemtext)|リストビュー項目またはサブ項目のテキストを変更します。|
|[CListCtrl:: SetOutlineColor](#setoutlinecolor)|リストビューコントロールの境界線の色を設定します。|
|[CListCtrl:: SetSelectedColumn](#setselectedcolumn)|リストビューコントロールの選択された列を設定します。|
|[CListCtrl:: SetSelectionMark](#setselectionmark)|リストビューコントロールの選択マークを設定します。|
|[CListCtrl:: SetTextBkColor](#settextbkcolor)|リストビューコントロール内のテキストの背景色を設定します。|
|[CListCtrl:: SetTextColor](#settextcolor)|リストビューコントロールのテキストの色を設定します。|
|[CListCtrl:: Setタイル情報](#settileinfo)|リストビューコントロールのタイルの情報を設定します。|
|[CListCtrl:: Setタイル Viewinfo](#settileviewinfo)|リストビューコントロールがタイルビューで使用する情報を設定します。|
|[CListCtrl:: SetToolTips ヒント](#settooltips)|リストビューコントロールがツールヒントを表示するために使用するツールヒントコントロールを設定します。|
|[CListCtrl:: SetView](#setview)|リストビューコントロールのビューを設定します。|
|[CListCtrl:: Setワークエリア](#setworkareas)|リストビューコントロールでアイコンを表示する領域を設定します。|
|[CListCtrl:: SortGroups](#sortgroups)|リストビューコントロールのグループをユーザー定義関数で並べ替えます。|
|[CListCtrl:: SortItems](#sortitems)|アプリケーションによって定義された比較関数を使用して、リストビューの項目を並べ替えます。|
|[CListCtrl:: SortItemsEx](#sortitemsex)|アプリケーションによって定義された比較関数を使用して、リストビューの項目を並べ替えます。|
|[CListCtrl:: SubItemHitTest](#subitemhittest)|リストビューアイテム (存在する場合) が特定の位置にあるかどうかを判断します。|
|[CListCtrl:: Update](#update)|コントロールに対して、指定した項目の再描画を強制的に実行します。|

## <a name="remarks"></a>Remarks

アイコンとラベルに加えて、各項目は、アイコンとラベルの右側の列に表示される情報を持つことができます。 このコントロール (および`CListCtrl`クラス) は、windows 95/98 および windows NT バージョン3.51 以降で実行されているプログラムに対してのみ使用できます。

`CListCtrl`クラスの簡単な概要を次に示します。 概念に関する詳細な説明については、「CListCtrl と[コントロール](../../mfc/controls-mfc.md)の[使用](../../mfc/using-clistctrl.md)」を参照してください。

## <a name="views"></a>Views

リストビューコントロールは、"views" という4つの異なる方法でコンテンツを表示できます。

- アイコンビュー

   各項目は、フルサイズのアイコン (32 x 32 ピクセル) として表示され、その下にラベルが付きます。 ユーザーは、リストビューウィンドウ内の任意の場所に項目をドラッグできます。

- 小さいアイコンの表示

   各項目は、右側にラベルが付いた小さいアイコン (16 x 16 ピクセル) で表示されます。 ユーザーは、リストビューウィンドウ内の任意の場所に項目をドラッグできます。

- リスト ビュー

   各項目は、右側にラベルが付いた小さいアイコンとして表示されます。 項目は列に配置され、リストビューウィンドウ内の任意の場所にドラッグすることはできません。

- レポートビュー

   各項目はそれぞれの行に表示され、右側の列に追加情報が配置されます。 左端の列には小さいアイコンとラベルが表示され、後続の列にはアプリケーションで指定されたサブ項目が含まれます。 埋め込みヘッダーコントロール (クラス[CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) は、これらの列を実装します。 レポートビューのヘッダーコントロールと列の詳細については、次[を参照してください。 CListCtrl を使用します。コントロールへの列の追加 (レポートビュー](../../mfc/adding-columns-to-the-control-report-view.md))

コントロールの現在のリストビューのスタイルによって、現在のビューが決まります。 これらのスタイルと使用方法の詳細について[は、次を参照してください。 CListCtrl を使用します。リストコントロールスタイル](../../mfc/changing-list-control-styles.md)の変更

## <a name="extended-styles"></a>拡張スタイル

標準のリストスタイルに加えて、クラス`CListCtrl`は拡張スタイルの大規模なセットをサポートしており、強化された機能を提供します。 この機能の例を次に示します。

- ホバー選択

   有効にすると、カーソルが一定期間内にあるときに項目を自動的に選択できるようになります。

- 仮想リストビュー

   有効にすると、コントロールが最大の DWORD 項目をサポートできるようになります。 これを行うには、アプリケーションでアイテムデータを管理するオーバーヘッドを設けることができます。 項目の選択とフォーカス情報を除き、すべての項目情報はアプリケーションによって管理される必要があります。 詳細については[、次を参照してください。 CListCtrl を使用します。仮想リストコントロール](../../mfc/virtual-list-controls.md)。

- ワンクリックと2回のクリックによるライセンス認証

   有効にすると、ホットトラッキング (項目テキストの自動強調表示) と、強調表示された項目の1回または2回のクリックによるアクティブ化が可能になります。

- ドラッグアンドドロップによる列の順序付け

   有効にすると、リストビューコントロール内の列をドラッグアンドドロップで並べ替えることができます。 レポートビューでのみ使用できます。

これらの新しい拡張スタイルの使用方法につい[ては、次を参照してください。 CListCtrl を使用します。リストコントロールスタイル](../../mfc/changing-list-control-styles.md)の変更

## <a name="items-and-subitems"></a>項目とサブ項目

リストビューコントロール内の各項目は、(イメージリストからの) アイコン、ラベル、現在の状態、およびアプリケーション定義の値 ("項目データ" と呼ばれます) で構成されます。 1つ以上のサブ項目を各項目に関連付けることもできます。 "サブアイテム" は、アイテムのアイコンとラベルの右側にある列にレポートビューで表示できる文字列です。 リストビューコントロール内のすべての項目には、同じ数のサブ項目が含まれている必要があります。

クラス`CListCtrl`には、これらの項目の挿入、削除、検索、および変更を行うための関数がいくつか用意されています。 詳細については、「 [CListCtrl:: GetItem](#getitem)、 [Clistctrl:: InsertItem](#insertitem)、および[clistctrl:: FindItem](#finditem)」、「[コントロールへの項目の追加](../adding-items-to-the-control.md)」、「[リストコントロールでのスクロール、整列、並べ替え、および検索](../scrolling-arranging-sorting-and-finding-in-list-controls.md)」を参照してください。

既定では、リストビューコントロールは、項目のアイコンとテキスト属性を格納します。 ただし、これらの項目の種類に加えて`CListCtrl` 、クラスは "コールバック項目" をサポートしています。 "コールバック項目" は、コントロールではなく、アプリケーションがテキスト、アイコン、またはその両方を格納するリストビュー項目です。 コールバックマスクは、アプリケーションによって提供される項目属性 (テキストやアイコン) を指定するために使用されます。 アプリケーションでコールバック項目を使用する場合は、テキストやアイコンの属性をオンデマンドで提供できる必要があります。 コールバック項目は、アプリケーションがこの情報の一部を既に管理している場合に便利です。 詳細については[、次を参照してください。 CListCtrl を使用します。コールバック項目とコールバック](../callback-items-and-the-callback-mask.md)マスク。

## <a name="image-lists"></a>イメージリスト

リストビューの項目のアイコン、ヘッダー項目の画像、およびアプリケーション定義の状態は、いくつかのイメージリスト (クラス [CImageList](cimagelist-class.md) により実装) に含まれています。これは、リストビューコントロールに対して作成し、割り当てます。 各リストビューコントロールは、最大4種類のイメージリストを持つことができます。

- 大きいアイコン

   アイコンビューで、フルサイズのアイコンに使用します。

- 小さいアイコン

   アイコンビューで使用される小さいバージョンのアイコンについて、小さいアイコン、一覧、およびレポートビューで使用されます。

- アプリケーション定義の状態

   アプリケーション定義の状態を示すために、項目のアイコンの横に表示される状態イメージを格納します。

- ヘッダー項目

   各ヘッダーコントロール項目に表示される小さい画像のレポートビューで使用されます。

既定では、リストビューコントロールは、破棄されたときに割り当てられたイメージリストを破棄します。ただし、開発者は、アプリケーションによって決定されるように、使用されなくなったイメージリストを破棄することで、この動作をカスタマイズできます。 詳細については[、次を参照してください。 CListCtrl を使用します。リスト項目とイメージリスト](../list-items-and-image-lists.md)。

## <a name="inheritance-hierarchy"></a>継承階層

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>必要条件

**ヘッダー:** afxcmn.h

## <a name="approximateviewrect"></a>CListCtrl:: ApproximateViewRect

リストビューコントロールの項目を表示するために必要な幅と高さを決定します。

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>パラメーター

*sz*<br/>
コントロールの提案された大きさ (ピクセル単位)。 次元が指定されていない場合、フレームワークはコントロールの現在の幅または高さの値を使用します。

*iCount*<br/>
コントロールに表示される項目の数。 このパラメーターが-1 の場合、フレームワークは現在コントロール内にある項目の合計数を使用します。

### <a name="return-value"></a>戻り値

項目を表示するために必要なおおよその幅と高さをピクセル単位で格納しているオブジェクト。`CSize`

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect)の動作を実装します。

## <a name="arrange"></a>  CListCtrl::Arrange

アイコンビュー内の項目を、グリッド上に配置されるように再配置します。

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>パラメーター

*nCode*<br/>
項目の配置スタイルを指定します。 次のいずれかの値を指定できます。

- LVA_ALIGNLEFT は、ウィンドウの左端に沿って項目を配置します。

- LVA_ALIGNTOP は、ウィンドウの上端に沿って項目を配置します。

- LVA_DEFAULT は、リストビューの現在の配置スタイルに従って項目を配置します (既定値)。

- LVA_SNAPTOGRID は、すべてのアイコンを最も近いグリッド位置にスナップします。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

*NCode*パラメーターは、配置スタイルを指定します。

### <a name="example"></a>例

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="canceleditlabel"></a>CListCtrl:: CancelEditLabel

項目のテキスト編集操作をキャンセルします。

```
void CancelEditLabel();
```

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_CANCELEDITLABEL](/windows/win32/Controls/lvm-canceleditlabel)メッセージの機能をエミュレートします。

## <a name="clistctrl"></a>CListCtrl:: CListCtrl

`CListCtrl` オブジェクトを構築します。

```
CListCtrl();
```

## <a name="create"></a>  CListCtrl::Create

リストコントロールを作成し、 `CListCtrl`オブジェクトにアタッチします。

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>パラメーター

*dwStyle*<br/>
リストコントロールのスタイルを指定します。 リストコントロールスタイルの任意の組み合わせをコントロールに適用します。 これらのスタイルの完全な一覧については、「Windows SDK の[リストビューウィンドウスタイル](/windows/win32/Controls/list-view-window-styles)」を参照してください。 [SetExtendedStyle](#setextendedstyle)を使用して、コントロールに固有の拡張スタイルを設定します。

*rect*<br/>
リストコントロールのサイズと位置を指定します。 `CRect`オブジェクトまたは[RECT](/previous-versions/dd162897\(v=vs.85\))構造体のいずれかを指定できます。

*pParentWnd*<br/>
リストコントロールの親ウィンドウ (通常は`CDialog`) を指定します。 NULL にすることはできません。

*nID*<br/>
リストコントロールの ID を指定します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

を作成する`CListCtrl`には、2つの手順を実行します。 まず、コンストラクターを呼び出し、次に`Create`を呼び出します。これにより、リストビューコントロールが`CListCtrl`作成され、オブジェクトにアタッチされます。

拡張 Windows スタイルをリストコントロールオブジェクトに適用するには、では`Create`なく [CreateEx](#createex) を呼び出します。

### <a name="example"></a>例

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="createex"></a>  CListCtrl::CreateEx

コントロール (子ウィンドウ) を作成し、 `CListCtrl`オブジェクトに関連付けます。

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>パラメーター

*dwExStyle*<br/>
作成するコントロールの拡張スタイルを指定します。 拡張 Windows スタイルの一覧については、Windows SDK の[CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw)の*dwexstyle*パラメーターを参照してください。

*dwStyle*<br/>
リストコントロールのスタイルを指定します。 リストコントロールスタイルの任意の組み合わせをコントロールに適用します。 これらのスタイルの完全な一覧については、「Windows SDK の[リストビューウィンドウスタイル](/windows/win32/Controls/list-view-window-styles)」を参照してください。

*rect*<br/>
*PParentWnd*のクライアント座標で、作成されるウィンドウのサイズと位置を記述する[RECT](/previous-versions/dd162897\(v=vs.85\))構造体への参照。

*pParentWnd*<br/>
コントロールの親であるウィンドウへのポインター。

*nID*<br/>
コントロールの子ウィンドウ ID。

### <a name="return-value"></a>戻り値

正常終了した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

Windows `CreateEx`拡張スタイルの先頭**WS_EX_** によって指定された拡張 windows スタイルを適用するには、[[作成](#create)] ではなくを使用します。

`CreateEx`*Dwexstyle*によって指定された拡張 Windows スタイルを使用して、コントロールを作成します。 コントロールに固有の拡張スタイルを設定するには、 [SetExtendedStyle](#setextendedstyle)を呼び出します。 たとえば、を使用`CreateEx`して、このようなスタイルを WS_EX_CONTEXTHELP `SetExtendedStyle`として設定しますが、を使用して、そのようなスタイルを LVS_EX_FULLROWSELECT として設定します。 詳細については、「Windows SDK の[拡張リストビュースタイル](/windows/win32/Controls/extended-list-view-styles)」で説明されているスタイルを参照してください。

## <a name="createdragimage"></a>CListCtrl:: CreateDragImage

*NItem*によって指定された項目のドラッグイメージリストを作成します。

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
ドラッグイメージリストが作成される項目のインデックス。

*lpPoint*<br/>
画像の左上隅の最初の位置をビュー座標で受け取る[ポイント](/previous-versions/dd162805\(v=vs.85\))構造のアドレスです。

### <a name="return-value"></a>戻り値

正常に終了した場合は、イメージのドラッグリストへのポインター。それ以外の場合は NULL。

### <a name="remarks"></a>Remarks

`CImageList`オブジェクトは永続的であり、完了したら削除する必要があります。 例:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="deleteallitems"></a>  CListCtrl::DeleteAllItems

リストビューコントロールからすべての項目を削除します。

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="deletecolumn"></a>  CListCtrl::DeleteColumn

リストビューコントロールから列を削除します。

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
削除する列のインデックス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="deleteitem"></a>  CListCtrl::DeleteItem

リストビューコントロールから項目を削除します。

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
削除する項目のインデックスを指定します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="drawitem"></a>CListCtrl::D rawItem

オーナー描画リストビューコントロールの視覚的な側面が変化したときに、フレームワークによって呼び出されます。

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>パラメーター

*lpDrawItemStruct*<br/>
必要な描画の種類`DRAWITEMSTRUCT`に関する情報を格納している構造体への long ポインター。

### <a name="remarks"></a>Remarks

[DRAWITEMSTRUCT](/windows/win32/api/winuser/ns-winuser-drawitemstruct) `itemAction`構造体のメンバーは、実行する描画アクションを定義します。

既定では、このメンバー関数は何も行いません。 オーナー描画`CListCtrl`オブジェクトの描画を実装するには、このメンバー関数をオーバーライドします。

このメンバー関数が終了する前に、アプリケーションでは、 *lpDrawItemStruct*で指定された表示コンテキスト用に選択されたすべてのグラフィックスデバイスインターフェイス (GDI) オブジェクトを復元する必要があります。

## <a name="editlabel"></a>  CListCtrl::EditLabel

項目のテキストのインプレース編集を開始します。

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
編集するリストビュー項目のインデックス。

### <a name="return-value"></a>戻り値

正常に終了した場合は`CEdit` 、項目のテキストを編集するために使用するオブジェクトへのポインター。それ以外の場合は NULL。

### <a name="remarks"></a>Remarks

LVS_EDITLABELS ウィンドウスタイルが設定されたリストビューコントロールを使用すると、ユーザーは項目のラベルを適切に編集できます。 ユーザーは、フォーカスのあるアイテムのラベルをクリックして編集を開始します。

指定されたリストビュー項目のテキストのインプレース編集を開始するには、この関数を使用します。

### <a name="example"></a>例

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="enablegroupview"></a>  CListCtrl::EnableGroupView

リストビューコントロール内の項目をグループとして表示するかどうかを有効または無効にします。

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>パラメーター

*fEnable*<br/>
表示項目をグループ化するために listview コントロールを有効にするかどうかを示します。 グループ化を有効にする場合は TRUE。無効にする場合は FALSE。

### <a name="return-value"></a>戻り値

次のいずれかの値を返します。

- **0**リストビューアイテムをグループとして表示する機能は、既に有効または無効になっています。

- **1**コントロールの状態が正常に変更されました。

- **-1**操作に失敗しました。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_ENABLEGROUPVIEW](/windows/win32/Controls/lvm-enablegroupview)メッセージの機能をエミュレートします。

## <a name="ensurevisible"></a>  CListCtrl::EnsureVisible

リストビュー項目が部分的に表示されていることを確認します。

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
表示されるリストビュー項目のインデックス。

*bPartialOK*<br/>
部分的な可視性を許容するかどうかを指定します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

必要に応じて、リストビューコントロールがスクロールされます。 *BPartialOK*パラメーターが0以外の場合は、アイテムが部分的に表示されている場合、スクロールは行われません。

### <a name="example"></a>例

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="finditem"></a>  CListCtrl::FindItem

特性が指定されたリストビューアイテムを検索します。

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>パラメーター

*pFindInfo*<br/>
検索対象の項目に関する情報を格納している[LVFINDINFO](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow)構造体へのポインター。

*nStart*<br/>
検索を開始する項目のインデックス。最初から開始する場合は-1。 *NStart*が-1 と等しくない場合、 *nStart*の項目は検索から除外されます。

### <a name="return-value"></a>戻り値

正常に終了した場合は項目のインデックス。それ以外の場合は-1。

### <a name="remarks"></a>Remarks

*Pfindinfo*パラメーターは、リストビュー `LVFINDINFO`アイテムの検索に使用される情報を含む構造体を指します。

### <a name="example"></a>例

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="getbkcolor"></a>CListCtrl:: GetBkColor

リストビューコントロールの背景色を取得します。

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>戻り値

RGB 色を指定するために使用する32ビット値。

### <a name="example"></a>例

「 [CListCtrl:: SetBkColor](#setbkcolor)」の例を参照してください。

## <a name="getbkimage"></a>CListCtrl:: GetBkImage

リストビューコントロールの現在の背景イメージを取得します。

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>パラメーター

*plvbkImage*<br/>
リストビューの現在`LVBKIMAGE`の背景イメージを格納している構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は0以外の値を返し、それ以外の場合は0を返します。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK で説明されているように、Win32 マクロ[ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage)の動作を実装します。

### <a name="example"></a>例

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="getcallbackmask"></a>  CListCtrl::GetCallbackMask

リストビューコントロールのコールバックマスクを取得します。

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>戻り値

リストビューコントロールのコールバックマスク。

### <a name="remarks"></a>Remarks

"コールバック項目" は、コントロールではなく、アプリケーションがテキスト、アイコン、またはその両方を格納するリストビュー項目です。 リストビューコントロールはこれらの属性を格納できますが、アプリケーションがこの情報の一部を既に保持している場合は、コールバック項目を使用することもできます。 コールバックマスクは、アプリケーションによって管理される項目の状態ビットを指定し、特定の項目ではなく、コントロール全体に適用されます。 既定では、コールバックマスクは0です。これは、コントロールがすべての項目の状態を追跡することを意味します。 アプリケーションでコールバック項目を使用する場合、または0以外のコールバックマスクを指定する場合は、必要に応じてリストビュー項目の属性を指定できなければなりません。

### <a name="example"></a>例

「 [CListCtrl:: SetCallbackMask](#setcallbackmask)」の例を参照してください。

## <a name="getcheck"></a>  CListCtrl::GetCheck

項目に関連付けられている状態イメージの現在の表示状態を取得します。

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
リストコントロール項目の0から始まるインデックス。

### <a name="return-value"></a>戻り値

項目が選択されている場合は0以外。それ以外の場合は0。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: SetCheck](#setcheck)」の例を参照してください。

## <a name="getcolumn"></a>  CListCtrl::GetColumn

リストビューコントロールの列の属性を取得します。

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
属性を取得する列のインデックス。

*pColumn*<br/>
列に関する情報を取得および受信するための情報を指定する[LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw)構造体のアドレス。 メンバー `mask`は、取得する列の属性を指定します。 メンバーが LVCF_TEXT 値を指定する場合`pszText` 、メンバーには項目テキストを受け取るバッファーのアドレスを含める必要があり`cchTextMax` 、メンバーはバッファーのサイズを指定する必要があります。 `mask`

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

`LVCOLUMN`構造体には、レポートビューの列に関する情報が含まれています。

### <a name="example"></a>例

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="getcolumnorderarray"></a>  CListCtrl::GetColumnOrderArray

リストビューコントロールの列の順序 (左から右) を取得します。

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>パラメーター

*piArray*<br/>
リストビューコントロール内の列のインデックス値が格納されるバッファーへのポインター。 バッファーは、リストビューコントロール内の列の合計数を格納するのに十分な大きさである必要があります。

*iCount*<br/>
リストビューコントロール内の列の数。 このパラメーターが-1 の場合、列の数はフレームワークによって自動的に取得されます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray)の動作を実装します。

### <a name="example"></a>例

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="getcolumnwidth"></a>CListCtrl:: GetColumnWidth

レポートビューまたはリストビュー内の列の幅を取得します。

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
幅を取得する列のインデックスを指定します。

### <a name="return-value"></a>戻り値

*Ncol*によって指定された列の幅 (ピクセル単位)。

### <a name="example"></a>例

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="getcountperpage"></a>  CListCtrl::GetCountPerPage

リストビューまたはレポートビューで、リストビューコントロールの表示領域に垂直方向に収めることができる項目の数を計算します。

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>戻り値

リストビューまたはレポートビューで、リストビューコントロールの表示領域に垂直方向に収めることができる項目の数。

### <a name="example"></a>例

「 [CListCtrl:: GetTopIndex](#gettopindex)」の例を参照してください。

## <a name="geteditcontrol"></a>  CListCtrl::GetEditControl

リストビュー項目のテキストを編集するために使用される編集コントロールのハンドルを取得します。

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>戻り値

成功した場合は、項目のテキストを編集するために使用される[CEdit](cedit-class.md)オブジェクトへのポインター。それ以外の場合は NULL。

### <a name="example"></a>例

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="getemptytext"></a>  CListCtrl::GetEmptyText

現在のリストビューコントロールが空の場合に表示する文字列を取得します。

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>戻り値

コントロールが空の場合に表示するテキストを含む[CString](../../atl-mfc-shared/reference/cstringt-class.md) 。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK で説明されている[LVM_GETEMPTYTEXT](/windows/win32/Controls/lvm-getemptytext)メッセージを送信します。

## <a name="getextendedstyle"></a>CListCtrl:: GetExtendedStyle

リストビューコントロールの現在の拡張スタイルを取得します。

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>戻り値

リストビューコントロールによって現在使用されている拡張スタイルの組み合わせ。 これらの拡張スタイルの説明リストについては、Windows SDK の[拡張リストビュースタイル](/windows/win32/Controls/extended-list-view-styles)に関する記事を参照してください。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: SetExtendedStyle](#setextendedstyle)」の例を参照してください。

## <a name="getfirstselecteditemposition"></a>  CListCtrl::GetFirstSelectedItemPosition

リストビューコントロール内で最初に選択された項目の位置を取得します。

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>戻り値

反復またはオブジェクトポインターの取得に使用できる位置の値。項目が選択されていない場合は NULL です。

### <a name="example"></a>例

次のコードサンプルは、この関数の使用方法を示しています。

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getfocusedgroup"></a>  CListCtrl::GetFocusedGroup

現在のリストビューコントロールにキーボードフォーカスがあるグループを取得します。

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>戻り値

そのようなグループがある場合は、状態が LVGS_FOCUSED であるグループのインデックス。それ以外の場合は-1。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK で説明されている[LVM_GETFOCUSEDGROUP](/windows/win32/Controls/lvm-getfocusedgroup)メッセージを送信します。 詳細については、 [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体の`state`メンバーの LVGS_FOCUSED 値を参照してください。

## <a name="getgroupcount"></a>  CListCtrl::GetGroupCount

現在のリストビューコントロール内のグループの数を取得します。

```
int GetGroupCount()const;
```

### <a name="return-value"></a>戻り値

リストビューコントロール内のグループの数。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK--> で説明されている[LVM_GETGROUPCOUNT](/windows/win32/Controls/lvm-getgroupcount)メッセージを送信します。

## <a name="getgroupinfo"></a>  CListCtrl::GetGroupInfo

リストビューコントロールの指定したグループの情報を取得します。

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>パラメーター

*iGroupId*<br/>
情報を取得するグループの識別子。

*pgrp*<br/>
指定したグループの情報を格納している[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)へのポインター。

### <a name="return-value"></a>戻り値

成功した場合はグループの ID を返し、それ以外の場合は-1 を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETGROUPINFO](/windows/win32/Controls/lvm-getgroupinfo)メッセージの機能をエミュレートします。

## <a name="getgroupinfobyindex"></a>  CListCtrl::GetGroupInfoByIndex

現在のリストビューコントロール内の指定されたグループに関する情報を取得します。

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*iIndex*|からグループの0から始まるインデックス。|
|*pGroup*|入出力*IIndex*パラメーターによって指定されたグループに関する情報を受け取る[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体へのポインター。<br /><br /> 呼び出し元は、 [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体のメンバーを初期化する役割を担います。 メンバーを構造体のサイズに設定し、 `mask`メンバーのフラグを設定して取得する情報を指定します。 `cbSize`|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK--> で説明されている[LVM_GETGROUPINFOBYINDEX](/windows/win32/controls/lvm-getgroupinfobyindex)メッセージを送信します。

### <a name="example"></a>例

現在のリストビューコントロールにアクセスする`m_listCtrl`ために使用される変数を定義するコード例を次に示します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

次のコード例は、 `GetGroupInfoByIndex`メソッドを示しています。 このコード例の前のセクションでは、レポートビューに "ClientID" と "グレード" という名前の2つの列を表示するリストビューコントロールを作成しました。 次のコード例では、インデックスが0であるグループに関する情報を取得します (そのようなグループが存在する場合)。
```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="getgroupmetrics"></a>  CListCtrl::GetGroupMetrics

グループのメトリックを取得します。

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>パラメーター

*pGroupMetrics*<br/>
グループのメトリック情報を格納している[LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics)へのポインター。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETGROUPMETRICS](/windows/win32/Controls/lvm-getgroupmetrics)メッセージの機能をエミュレートします。

## <a name="getgrouprect"></a>  CListCtrl::GetGroupRect

現在のリストビューコントロール内の指定されたグループの外接する四角形を取得します。

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*iGroupId*|からグループを指定します。|
|*lpRect*|[入力、出力][RECT](/previous-versions/dd162897\(v=vs.85\))構造体へのポインター。 このメソッドが成功した場合、構造体は*Igroupid*によって指定されたグループの四角形の座標を受け取ります。|
|*iCoords*|から取得する四角形の座標を指定します。 次のいずれかの値を使用します。<br /><br /> -LVGGR_GROUP-(既定値) 展開されたグループ全体の座標。<br />-LVGGR_HEADER-ヘッダーのみの座標 (折りたたまれたグループ)。<br />-LVGGR_SUBSETLINK-サブセットリンク (マークアップサブセット) のみの座標。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

呼び出し元は、 *Prect*パラメーターによって示される[RECT](/previous-versions/dd162897\(v=vs.85\))構造体を割り当てる役割を担います。

このメソッドは、Windows SDK で説明されている[LVM_GETGROUPRECT](/windows/win32/Controls/lvm-getgrouprect)メッセージを送信します。

### <a name="example"></a>例

現在のリストビューコントロールにアクセスする`m_listCtrl`ために使用される変数を定義するコード例を次に示します。 この変数は次の例で使用されています。
```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

次のコード例は、 `GetGroupRect`メソッドを示しています。 このコード例の前のセクションでは、レポートビューに "ClientID" と "グレード" という名前の2つの列を表示するリストビューコントロールを作成しました。 次のコード例では、インデックスが0であるグループの周囲に3D 四角形を描画します (そのようなグループが存在する場合)。

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="getgroupstate"></a>  CListCtrl::GetGroupState

現在のリストビューコントロール内の指定されたグループの状態を取得します。

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*iGroupId*|からグループの0から始まるインデックス。|
|*dwMask*|から指定したグループに対して取得する状態値を指定するマスク。 詳細については、 `mask` [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体のメンバーを参照してください。|

### <a name="return-value"></a>戻り値

指定したグループに対して要求された状態。グループが見つからない場合は0。

### <a name="remarks"></a>Remarks

戻り値は、 *dwMask*パラメーターに対するビットごとの and 演算の結果であり、現在の`state`リストビューコントロールを表す[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体のメンバーの値です。

このメソッドは、Windows SDK で説明されている[LVM_GETGROUPSTATE](/windows/win32/Controls/lvm-getgroupstate)メッセージを送信します。 詳細については、「 [ListView_GetGroupState](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate)マクロ」を参照してください。

## <a name="getheaderctrl"></a>  CListCtrl::GetHeaderCtrl

リストビューコントロールのヘッダーコントロールを取得します。

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>戻り値

リストビューコントロールによって使用される、ヘッダーコントロールへのポインター。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: Getカラム Norderarray](#getcolumnorderarray)」の例を参照してください。

## <a name="gethotcursor"></a>  CListCtrl::GetHotCursor

リストビューコントロールのホットトラッキングが有効な場合に使用されるカーソルを取得します。

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>戻り値

リストビューコントロールによって使用されている現在のホットカーソルリソースへのハンドル。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor)の動作を実装します。 ホットカーソルは、カーソルが任意のリストビューアイテムを通過すると表示されます。これは、ホバー選択が有効になっている場合にのみ表示されます。 ホバー選択は、LVS_EX_TRACKSELECT 拡張スタイルを設定することによって有効になります。

### <a name="example"></a>例

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="gethotitem"></a>  CListCtrl::GetHotItem

現在カーソルの下にあるリストビューアイテムを取得します。

```
int GetHotItem();
```

### <a name="return-value"></a>戻り値

リストビューコントロールの現在のホット項目のインデックス。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem)の動作を実装します。 ホットな項目は、ホットトラッキング (およびホバー選択) が有効になっている場合に、現在選択されている項目として定義されます。

ホットトラッキングが有効になっている場合、ユーザーがリストビューアイテムを一時停止すると、マウスボタンを使用せずにアイテムラベルが自動的に強調表示されます。

### <a name="example"></a>例

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="gethovertime"></a>  CListCtrl::GetHoverTime

リストビューコントロールの現在のホバー時間を取得します。

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>戻り値

項目を選択する前にマウスカーソルをポイントする必要がある時間 (ミリ秒単位) を返します。 戻り値が-1 の場合、ホバー時間は既定のホバー時間になります。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime)の動作を実装します。

### <a name="example"></a>例

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="getimagelist"></a>  CListCtrl::GetImageList

リストビュー項目の描画に使用するイメージリストのハンドルを取得します。

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>パラメーター

*nImageList*<br/>
取得するイメージリストを指定する値。 次のいずれかの値を指定できます。

- LVSIL_NORMAL イメージリストが大きいアイコンで表示されます。

- 小さいアイコンの LVSIL_SMALL イメージリスト。

- 状態イメージを含む LVSIL_STATE イメージリスト。

### <a name="return-value"></a>戻り値

リストビュー項目の描画に使用するイメージリストへのポインター。

### <a name="example"></a>例

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="getinsertmark"></a>  CListCtrl::GetInsertMark

挿入マークの現在位置を取得します。

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>パラメーター

*plvim*<br/>
挿入マークの情報を格納している[LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE、それ以外の場合は FALSE を返します。 構造`LVINSERTMARK`体の`cbSize`メンバーのサイズが構造体の実際のサイズと等しくない場合は、FALSE が返されます。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETINSERTMARK](/windows/win32/Controls/lvm-getinsertmark)メッセージの機能をエミュレートします。

## <a name="getinsertmarkcolor"></a>  CListCtrl::GetInsertMarkColor

挿入マークの現在の色を取得します。

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>戻り値

挿入ポイントの色を含む[COLORREF](/windows/win32/gdi/colorref)構造体を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETINSERTMARKCOLOR](/windows/win32/Controls/lvm-getinsertmarkcolor)メッセージの機能をエミュレートします。

## <a name="getinsertmarkrect"></a>  CListCtrl::GetInsertMarkRect

挿入ポイントの境界となる四角形を取得します。

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>パラメーター

*pRect*<br/>
挿入ポイントの`RECT`境界となる四角形の座標を格納している構造体へのポインター。

### <a name="return-value"></a>戻り値

次のいずれかの値を返します。

- **0**挿入ポイントが見つかりませんでした。

- **1 個**の挿入ポイントが見つかりました。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETINSERTMARKRECT](/windows/win32/Controls/lvm-getinsertmarkrect)メッセージの機能をエミュレートします。

## <a name="getitem"></a>  CListCtrl::GetItem

リストビュー項目の属性の一部またはすべてを取得します。

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>パラメーター

*pItem*<br/>
項目の属性を受け取る[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

`LVITEM`構造体は、リストビュー項目の属性を指定または受け取ります。

## <a name="getitemcount"></a>  CListCtrl::GetItemCount

リストビューコントロール内の項目の数を取得します。

```
int GetItemCount() const;
```

### <a name="return-value"></a>戻り値

リストビューコントロール内の項目の数。

### <a name="example"></a>例

「 [CListCtrl::D eleteitem](#deleteitem)」の例を参照してください。

## <a name="getitemdata"></a>  CListCtrl::GetItemData

によっ`nItem`て指定された項目に関連付けられている32ビットアプリケーション固有の値を取得します。

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
データを取得するリスト項目のインデックス。

### <a name="return-value"></a>戻り値

指定した項目に関連付けられている、32ビットのアプリケーション固有の値。

### <a name="remarks"></a>Remarks

この値は、 `lParam` 「」 Windows SDK で説明されているように、 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のメンバーです。

### <a name="example"></a>例

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="getitemindexrect"></a>  CListCtrl::GetItemIndexRect

現在のリストビューコントロール内のサブ項目のすべてまたは一部の外接する四角形を取得します。

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*pItemIndex*|からサブアイテムの親アイテムの[LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体へのポインター。<br /><br /> 呼び出し元は、 [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体のメンバーの割り当てと設定を行います。 このパラメーターを NULL にすることはできません。|
|*iColumn*|からコントロール内の列の0から始まるインデックス。|
|*rectType*|から外接する四角形を取得するリストビューサブ項目の一部。 次のいずれかの値を指定します。<br /><br /> LVIR_BOUNDS-アイコンとラベルを含む、サブ項目全体の外接する四角形を返します。<br /><br /> LVIR_ICON-アイコンまたはサブ項目の小さいアイコンの外接する四角形を返します。<br /><br /> LVIR_LABEL-サブアイテムテキストの外接する四角形を返します。|
|*pRect*|入出力サブ項目の外接する四角形に関する情報を受け取る[RECT](/previous-versions/dd162897\(v=vs.85\))構造体へのポインター。<br /><br /> 呼び出し元は、 [RECT](/previous-versions/dd162897\(v=vs.85\))構造体を割り当てる役割を担います。 このパラメーターを NULL にすることはできません。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK で説明されている[LVM_GETITEMINDEXRECT](/windows/win32/Controls/lvm-getitemindexrect)メッセージを送信します。 詳細については、「 [ListView_GetItemIndexRect マクロ](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect)」を参照してください。

### <a name="example"></a>例

現在のリストビューコントロールにアクセスする`m_listCtrl`ために使用される変数を定義するコード例を次に示します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

次のコード例は、 `GetGroupRect`メソッドを示しています。 このコード例を入力する前に、レポートビューに "ClientID" と "グレード" という名前の2つの列を表示するリストビューコントロールを作成しました。 次のコード例では、両方の列の2番目のサブ項目の周りに3D 四角形を描画します。

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="getitemposition"></a>CListCtrl:: GetItemPosition

リストビュー項目の位置を取得します。

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
位置を取得する項目のインデックス。

*lpPoint*<br/>
項目の左上隅の位置を表示座標として受け取る[ポイント](/previous-versions/dd162805\(v=vs.85\))構造のアドレス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="getitemrect"></a>  CListCtrl::GetItemRect

現在のビュー内の項目のすべてまたは一部の外接する四角形を取得します。

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
位置を取得する項目のインデックス。

*lpRect*<br/>
外接する四角形を受け取る[RECT](/previous-versions/dd162897\(v=vs.85\))構造体のアドレス。

*nCode*<br/>
外接する四角形を取得するリストビュー項目の部分。 次のいずれかの値を指定できます。

- LVIR_BOUNDS は、アイコンとラベルを含む、項目全体の外接する四角形を返します。

- LVIR_ICON は、アイコンまたは小さいアイコンの外接する四角形を返します。

- LVIR_LABEL は、項目のテキストの外接する四角形を返します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="getitemspacing"></a>  CListCtrl::GetItemSpacing

現在のリストビューコントロール内の項目間の間隔を計算します。

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*fSmall*|から項目の間隔を取得するビュー。 小さいアイコン表示の場合は TRUE、アイコンビューの場合は FALSE を指定します。|
|*pnHorzSpacing*|入出力項目間の左右の間隔を格納します。|
|*pnVertSpacing*|入出力項目間の上下の間隔を格納します。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK で説明されている[LVM_GETITEMSPACING](/windows/win32/Controls/lvm-getitemspacing)メッセージを送信します。

## <a name="getitemstate"></a>  CListCtrl::GetItemState

リストビュー項目の状態を取得します。

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
状態を取得する項目のインデックス。

*nMask*<br/>
返す項目の状態フラグのうち、どれを返すかを指定するマスク。

### <a name="return-value"></a>戻り値

指定されたリストビュー項目の状態フラグ。

### <a name="remarks"></a>Remarks

項目の状態は、Windows SDK で説明`state`されているように、 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のメンバーによって指定されます。 項目の状態を指定または変更する場合、 `stateMask`メンバーは、変更する状態ビットを指定します。

### <a name="example"></a>例

「 [CListCtrl:: GetTopIndex](#gettopindex)」の例を参照してください。

## <a name="getitemtext"></a>  CListCtrl::GetItemText

リストビュー項目またはサブ項目のテキストを取得します。

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
テキストを取得する項目のインデックス。

*nSubItem アイテム*<br/>
テキストを取得するサブ項目を指定します。

*lpszText*<br/>
項目のテキストを受け取る文字列へのポインター。

*nLen*<br/>
*LpszText*が指すバッファーの長さ。

### <a name="return-value"></a>戻り値

**Int**を返すバージョンでは、取得した文字列の長さが返されます。

を`CString`返すバージョンでは、項目のテキストが返されます。

### <a name="remarks"></a>Remarks

*Nsubitem 項目*が0の場合、この関数は項目のラベルを取得します。*Nsubitem 項目*が0以外の場合は、サブ項目のテキストを取得します。 サブ項目引数の詳細については、Windows SDK の[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体の説明を参照してください。

## <a name="getnextitem"></a>  CListCtrl::GetNextItem

指定されたプロパティを持ち、特定の項目に対して指定されたリレーションシップを持つリストビュー項目を検索します。

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
検索を開始する項目のインデックス。指定したフラグに一致する最初の項目を検索する場合は-1。 指定された項目自体は検索対象から除外されます。

*nFlags*<br/>
要求された項目と指定した項目の間の幾何学的な関係、および要求された項目の状態。 ジオメトリック関係には、次のいずれかの値を指定できます。

- LVNI_ABOVE は、指定された項目の上にある項目を検索します。

- LVNI_ALL は、インデックス (既定値) を使用して後続の項目を検索します。

- LVNI_BELOW は、指定された項目の下にある項目を検索します。

- LVNI_TOLEFT は、指定された項目の左側にある項目を検索します。

- LVNI_TORIGHT は、指定された項目の右側にある項目を検索します。

状態は0にすることも、次のいずれかの値を指定することもできます。

- LVNI_DROPHILITED 項目に LVIS_DROPHILITED state フラグが設定されています。

- LVNI_FOCUSED 項目に LVIS_FOCUSED state フラグが設定されています。

- LVNI_SELECTED 項目に LVIS_SELECTED state フラグが設定されています。

指定したすべての状態フラグが設定されていない項目がある場合は、次の項目から検索が続行されます。

### <a name="return-value"></a>戻り値

成功した場合は、次の項目のインデックス。それ以外の場合は-1。

## <a name="getnextitemindex"></a>  CListCtrl::GetNextItemIndex

指定されたプロパティのセットを持つ、現在のリストビューコントロール内の項目のインデックスを取得します。

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*pItemIndex*|[入力、出力]検索が開始される項目を記述する[LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体へのポインター。または、-1 は、 *nFlags*パラメーターのフラグと一致する最初の項目を検索します。<br /><br /> このメソッドが成功した場合`LVITEMINDEX` 、構造体は検索によって検出された項目を記述します。|
|*nFlags*|から検索の実行方法を指定するフラグのビットごとの組み合わせ (or)。<br /><br /> 検索は、ターゲット項目のインデックス、状態、または外観、または*pItemIndex*パラメーターで指定された項目に対するターゲット項目の物理的な位置によって異なります。 詳細については、 [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex)メッセージの*flags*パラメーターを参照してください。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

呼び出し元は、 `LVITEMINDEX` *pItemIndex*パラメーターによって示される構造体のメンバーの割り当てと設定を行います。

このメソッドは、Windows SDK で説明されている[LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex)メッセージを送信します。

## <a name="getnextselecteditem"></a>  CListCtrl::GetNextSelectedItem

*Pos*によって識別されるリスト項目のインデックスを取得し、その位置の値に*pos*を設定します。

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>パラメーター

*po*<br/>
以前のまたは`GetNextSelectedItem` `GetFirstSelectedItemPosition`への呼び出しによって返された位置の値への参照。 値は、この呼び出しによって次の位置に更新されます。

### <a name="return-value"></a>戻り値

*Pos*によって識別されるリスト項目のインデックス。

### <a name="remarks"></a>Remarks

`GetNextSelectedItem` を`GetFirstSelectedItemPosition`呼び出して最初の位置を設定する場合は、前方反復ループでを使用できます。

位置の値が有効であることを確認する必要があります。 無効な場合は、Microsoft Foundation Class ライブラリのデバッグバージョンがアサートされます。

### <a name="example"></a>例

次のコードサンプルは、この関数の使用方法を示しています。

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getnumberofworkareas"></a>  CListCtrl::GetNumberOfWorkAreas

リストビューコントロールの現在の作業領域の数を取得します。

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>戻り値

現時点では使用されていません。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas)の動作を実装します。

### <a name="example"></a>例

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="getoutlinecolor"></a>  CListCtrl::GetOutlineColor

リストビューコントロールの境界線の色を取得します。

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>戻り値

輪郭の色を含む[COLORREF](/windows/win32/gdi/colorref)構造体を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETOUTLINECOLOR](/windows/win32/Controls/lvm-getoutlinecolor)メッセージの機能をエミュレートします。

## <a name="getorigin"></a>  CListCtrl::GetOrigin

リストビューコントロールの現在のビューの原点を取得します。

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>パラメーター

*lpPoint*<br/>
ビューのオリジンを受け取る[ポイント](/previous-versions/dd162805\(v=vs.85\))構造のアドレス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。 ただし、コントロールがレポートビューの場合、戻り値は常に0になります。

## <a name="getselectedcolumn"></a>  CListCtrl::GetSelectedColumn

リストコントロールで現在選択されている列のインデックスを取得します。

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>戻り値

選択されている列のインデックス。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETSELECTEDCOLUMN](/windows/win32/Controls/lvm-getselectedcolumn)メッセージの機能をエミュレートします。

## <a name="getselectedcount"></a>  CListCtrl::GetSelectedCount

リストビューコントロール内の選択された項目の数を取得します。

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>戻り値

リストビューコントロール内の選択された項目の数。

### <a name="example"></a>例

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="getselectionmark"></a>  CListCtrl::GetSelectionMark

リストビューコントロールの選択マークを取得します。

```
int GetSelectionMark();
```

### <a name="return-value"></a>戻り値

0から始まる選択マーク。選択マークがない場合は-1。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="getstringwidth"></a>  CListCtrl::GetStringWidth

指定されたすべての文字列を表示するために必要な列の最小幅を決定します。

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>パラメーター

*lpsz*<br/>
幅を決定する null で終わる文字列のアドレス。

### <a name="return-value"></a>戻り値

*Lpsz*が指す文字列の幅 (ピクセル単位)。

### <a name="remarks"></a>Remarks

返される幅には、コントロールの現在のフォントと列の余白が考慮されますが、小さいアイコンの幅は考慮されません。

### <a name="example"></a>例

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="getsubitemrect"></a>CListCtrl:: GetSubItemRect

リストビューコントロール内の項目の外接する四角形を取得します。

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>パラメーター

*iItem*<br/>
サブ項目の親項目のインデックス。

*iSubItem アイテム*<br/>
サブ項目の1から始まるインデックス。

*nArea*<br/>
取得する外接する四角形の部分 (リストビューのサブ項目の部分) を決定します。 外接する四角形の部分 (アイコン、ラベル、または両方) は、次の値の1つまたは複数にビットごとの OR 演算子を適用することによって指定します。

- LVIR_BOUNDS は、アイコンとラベルを含む、項目全体の外接する四角形を返します。

- LVIR_ICON は、アイコンまたは小さいアイコンの外接する四角形を返します。

- LVIR_LABEL は、アイコンとラベルを含む、項目全体の外接する四角形を返します。 これは LVIR_BOUNDS と同じです。

*ref*<br/>
サブ項目の外接する四角形の座標を格納している、 [CRect](../../atl-mfc-shared/reference/crect-class.md)オブジェクトへの参照。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect)の動作を実装します。

## <a name="gettextbkcolor"></a>CListCtrl:: GetTextBkColor

リストビューコントロールのテキストの背景色を取得します。

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>戻り値

RGB 色を指定するために使用する32ビット値。

### <a name="example"></a>例

「 [CListCtrl:: SetTextBkColor](#settextbkcolor)」の例を参照してください。

## <a name="gettextcolor"></a>  CListCtrl::GetTextColor

リストビューコントロールのテキストの色を取得します。

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>戻り値

RGB 色を指定するために使用する32ビット値。

### <a name="example"></a>例

「 [CListCtrl:: SetTextColor](#settextcolor)」の例を参照してください。

## <a name="gettileinfo"></a>  CListCtrl::GetTileInfo

リストビューコントロール内のタイルに関する情報を取得します。

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>パラメーター

*plvti*<br/>
タイル情報を受け取る[LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETTILEINFO](/windows/win32/Controls/lvm-gettileinfo)メッセージの機能をエミュレートします。

## <a name="gettileviewinfo"></a>  CListCtrl::GetTileViewInfo

タイルビューのリストビューコントロールに関する情報を取得します。

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>パラメーター

*ptvi*<br/>
取得した情報を受け取る[LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETTILEVIEWINFO](/windows/win32/Controls/lvm-gettileviewinfo)メッセージの機能をエミュレートします。

## <a name="gettooltips"></a>CListCtrl:: GetToolTips ヒント

リストビューコントロールがツールヒントを表示するために使用するツールヒントコントロールを取得します。

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>戻り値

リストコントロールによって使用される[CToolTipCtrl](ctooltipctrl-class.md)オブジェクトへのポインター。 [Create](#create) member 関数で LVS_NOTOOLTIPS スタイルが使用されている場合、ツールヒントは使用されず、NULL が返されます。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 message [LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips)の動作を実装します。 の`GetToolTips` MFC 実装では、 `CToolTipCtrl`オブジェクトが返されます。これは、ツールヒントコントロールのハンドルではなく、リストコントロールによって使用されます。

### <a name="example"></a>例

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="gettopindex"></a>  CListCtrl::GetTopIndex

リストビューまたはレポートビューで、最上位に表示されるアイテムのインデックスを取得します。

```
int GetTopIndex() const;
```

### <a name="return-value"></a>戻り値

最上位の項目のインデックス。

### <a name="example"></a>例

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="getview"></a>CListCtrl:: GetView

リストビューコントロールのビューを取得します。

```
DWORD GetView() const;
```

### <a name="return-value"></a>戻り値

リストビューコントロールの現在のビュー。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_GETVIEW](/windows/win32/Controls/lvm-getview)メッセージの機能をエミュレートします。

## <a name="getviewrect"></a>CListCtrl:: GetViewRect

リストビューコントロール内のすべての項目の外接する四角形を取得します。

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>パラメーター

*lpRect*<br/>
[RECT](/previous-versions/dd162897\(v=vs.85\))構造体のアドレス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

リストビューは、アイコンビューまたは小さいアイコンビューである必要があります。

## <a name="getworkareas"></a>  CListCtrl::GetWorkAreas

リストビューコントロールの現在の作業領域を取得します。

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>パラメーター

*Nワークエリア*<br/>
*Prect*配列`RECT`に格納されている構造体の数。

*pRect*<br/>
リストビューコントロールの作業領域`RECT`を受け取る構造体 (または[CRect](../../atl-mfc-shared/reference/crect-class.md)オブジェクト) の配列へのポインター。 これらの構造体の値は、クライアント座標です。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: Getnumberofworkspace](#getnumberofworkareas)」の例を参照してください。

## <a name="hasgroup"></a>  CListCtrl::HasGroup

リストビューコントロールに指定したグループがあるかどうかを判断します。

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>パラメーター

*iGroupId*<br/>
要求されているグループの識別子。

### <a name="return-value"></a>戻り値

成功した場合は TRUE、失敗した場合は FALSE を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_HASGROUP](/windows/win32/Controls/lvm-hasgroup)メッセージの機能をエミュレートします。

## <a name="hittest"></a>  CListCtrl::HitTest

リストビューアイテム (存在する場合) が指定した位置にあるかどうかを判断します。

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>パラメーター

*pHitTestInfo*<br/>
ヒットテストの`LVHITTESTINFO`位置を格納し、ヒットテストの結果に関する情報を受け取る構造体のアドレス。

*未満*<br/>
テストするポイント。

*pFlags*<br/>
テストの結果に関する情報を受け取る整数へのポインター。 Windows SDK の[LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)構造体`flags`のメンバーの説明を参照してください。

### <a name="return-value"></a>戻り値

*Phittestinfo*によって指定された位置にある項目のインデックス (存在する場合)。それ以外の場合は-1。

### <a name="remarks"></a>Remarks

構造体の`flag`メンバーの LVHT_ABOVE、LVHT_BELOW、LVHT_TOLEFT、LVHT_TORIGHT の各値を使用して、リストビューコントロールの内容をスクロールするかどうかを決定できます。 これらのフラグの2つを組み合わせることができます。たとえば、位置がクライアント領域の上と左側にある場合などです。

構造体の`flag`メンバーの LVHT_ONITEM 値をテストして、特定の位置がリストビュー項目の上にあるかどうかを判断できます。 この値は、構造体の`flag`メンバーの LVHT_ONITEMICON、LVHT_ONITEMLABEL、および LVHT_ONITEMSTATEICON の各値に対するビットごとの or 演算です。

### <a name="example"></a>例

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="insertcolumn"></a>  CListCtrl::InsertColumn

リストビューコントロールに新しい列を挿入します。

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
新しい列のインデックス。

*pColumn*<br/>
新しい列の`LVCOLUMN`属性を含む構造体のアドレス。

*lpszColumnHeading*<br/>
列の見出しを含む文字列のアドレス。

*nFormat*<br/>
列の配置を指定する整数。 次のいずれかの値を指定できます。LVCFMT_LEFT、LVCFMT_RIGHT、または LVCFMT_CENTER。

*nWidth*<br/>
列の幅 (ピクセル単位)。 このパラメーターが-1 の場合、列の幅は設定されません。

*nSubItem アイテム*<br/>
列に関連付けられているサブ項目のインデックス。 このパラメーターが-1 の場合、サブ項目は列に関連付けられません。

### <a name="return-value"></a>戻り値

成功した場合は新しい列のインデックス。それ以外の場合は-1。

### <a name="remarks"></a>Remarks

リストビューコントロールの左端の列は左揃えにする必要があります。

[LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw)構造体には、レポートビューの列の属性が含まれています。 また、列に関する情報を受信するためにも使用されます。 この構造体については、Windows SDK を参照してください。

## <a name="insertgroup"></a>  CListCtrl::InsertGroup

リストビューコントロールにグループを挿入します。

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>パラメーター

*index*<br/>
グループを挿入する項目のインデックス。

*pgrp*<br/>
追加するグループを格納している[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体へのポインター。

### <a name="return-value"></a>戻り値

グループが追加された項目のインデックスを返します。操作が失敗した場合は-1 を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_INSERTGROUP](/windows/win32/Controls/lvm-insertgroup)メッセージの機能をエミュレートします。

## <a name="insertgroupsorted"></a>  CListCtrl::InsertGroupSorted

指定したグループを、順序付けられたグループのリストに挿入します。

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>パラメーター

*pStructInsert*<br/>
挿入するグループを格納している[LVINSERTGROUPSORTED](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted)構造体へのポインター。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_INSERTGROUPSORTED](/windows/win32/Controls/lvm-insertgroupsorted)メッセージの機能をエミュレートします。

## <a name="insertitem"></a>  CListCtrl::InsertItem

リストビューコントロールに項目を挿入します。

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>パラメーター

*pItem*<br/>
Windows SDK で説明されているように、項目の属性を指定する[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体へのポインター。

*nItem*<br/>
挿入する項目のインデックス。

*lpszItem*<br/>
項目のラベルを含む文字列のアドレス。項目がコールバック項目の場合は LPSTR_TEXTCALLBACK。 コールバック項目の詳細については、「 [CListCtrl:: getcallback mask](#getcallbackmask)」を参照してください。

*nImage*<br/>
項目のイメージのインデックス。項目がコールバック項目の場合は I_IMAGECALLBACK。 コールバック項目の詳細については、「 [CListCtrl:: getcallback mask](#getcallbackmask)」を参照してください。

*nMask*<br/>
*Nmask*パラメーターは、パラメーターとして渡される項目属性が有効であることを指定します。 Windows SDK の[「LVITEM Structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) 」で説明されているマスク値の1つ以上を指定できます。 有効な値は、ビットごとの OR 演算子と組み合わせることができます。

*nState*<br/>
項目の状態、状態の画像、およびオーバーレイ画像を示します。 詳細については、有効なフラグの一覧について、Windows SDK のトピック「 [LVITEM Structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) and [List-View Item States](/windows/win32/Controls/list-view-item-states) 」を参照してください。

*nStateMask*<br/>
状態メンバーのどのビットが取得または変更されるかを示します。 詳細については、Windows SDK の「 [LVITEM 構造体](/windows/win32/api/commctrl/ns-commctrl-lvitemw)」を参照してください。

*lParam*<br/>
項目に関連付けられている32ビットアプリケーション固有の値。 このパラメーターを指定する場合は、 *Nmask*属性 LVIF_PARAM を設定する必要があります。

### <a name="return-value"></a>戻り値

成功した場合は新しい項目のインデックス。それ以外の場合は-1。

### <a name="remarks"></a>Remarks

このメソッドを呼び出すと、LVM_INSERTITEM メッセージがコントロールウィンドウに送信される可能性があります。 コントロールに関連付けられたメッセージハンドラーは、特定の条件下で項目のテキストを設定できない場合があります (LVS_OWNERDRAW などのウィンドウスタイルを使用するなど)。 これらの条件の詳細については、Windows SDK の「 [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) 」を参照してください。

### <a name="example"></a>例

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="insertmarkhittest"></a>  CListCtrl::InsertMarkHitTest

指定したポイントに最も近い挿入ポイントを取得します。

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>パラメーター

*pPoint*<br/>
リストコントロールのクライアント領域を基準とした、ヒットテストの座標を格納している[ポイント](/previous-versions/dd162805\(v=vs.85\))構造体へのポインター。

*plvim*<br/>
Point パラメーターで定義された座標に最も近い挿入ポイントを指定する[LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark)構造体へのポインター。

### <a name="return-value"></a>戻り値

指定したポイントに最も近い挿入ポイント。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_INSERTMARKHITTEST](/windows/win32/Controls/lvm-insertmarkhittest)メッセージの機能をエミュレートします。

## <a name="isgroupviewenabled"></a>CListCtrl:: IsGroupViewEnabled

リストビューコントロールに対してグループビューが有効かどうかを指定します。

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>戻り値

グループビューが有効になっている場合は TRUE、それ以外の場合は FALSE を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_ISGROUPVIEWENABLED](/windows/win32/Controls/lvm-isgroupviewenabled)メッセージの機能をエミュレートします。

## <a name="isitemvisible"></a>CListCtrl:: IsItemVisible

現在のリストビューコントロール内の指定された項目を表示するかどうかを示します。

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*index*|から現在のリストビューコントロール内の項目の0から始まるインデックス。|

### <a name="return-value"></a>戻り値

指定した項目が表示される場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK で説明されている[LVM_ISITEMVISIBLE](/windows/win32/Controls/lvm-isitemvisible)メッセージを送信します。

## <a name="mapidtoindex"></a>  CListCtrl::MapIDToIndex

現在のリストビューコントロール内の項目の一意の ID をインデックスにマップします。

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*ID*|から項目の一意の ID。|

### <a name="return-value"></a>戻り値

指定された ID の現在のインデックス。

### <a name="remarks"></a>Remarks

リストビューコントロールは、インデックスによって項目を内部で追跡します。 これには、コントロールの有効期間中にインデックスが変更される可能性があるため、問題が発生する可能性があります。 リストビューコントロールは、項目が作成されたときに ID で項目にタグを付けることができます。また、この ID を使用して、リストビューコントロールの有効期間中の一意性を保証できます。

マルチスレッド環境では、インデックスは、バックグラウンドスレッドではなく、リストビューコントロールをホストするスレッドでのみ保証されることに注意してください。

このメソッドは、Windows SDK で説明されている[LVM_MAPIDTOINDEX](/windows/win32/controls/lvm-mapidtoindex)メッセージを送信します。

## <a name="mapindextoid"></a>  CListCtrl::MapIndexToID

現在のリストビューコントロール内の項目のインデックスを一意の ID にマップします。

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*index*|から項目の0から始まるインデックス。|

### <a name="return-value"></a>戻り値

指定されたアイテムの一意の ID。

### <a name="remarks"></a>Remarks

リストビューコントロールは、インデックスによって項目を内部で追跡します。 これには、コントロールの有効期間中にインデックスが変更される可能性があるため、問題が発生する可能性があります。 リストビューコントロールは、項目が作成されたときに ID で項目にタグを付けることができます。 この ID を使用して、リストビューコントロールの有効期間にわたって特定の項目にアクセスできます。

マルチスレッド環境では、インデックスは、バックグラウンドスレッドではなく、リストビューコントロールをホストするスレッドでのみ保証されることに注意してください。

このメソッドは、Windows SDK で説明されている[LVM_MAPINDEXTOID](/windows/win32/Controls/lvm-mapindextoid)メッセージを送信します。

### <a name="example"></a>例

現在のリストビューコントロールにアクセスする`m_listCtrl`ために使用される変数を定義するコード例を次に示します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

次のコード例は、 `MapIndexToID`メソッドを示しています。 このコード例の前のセクションでは、レポートビューに "ClientID" と "グレード" という名前の2つの列を表示するリストビューコントロールを作成しました。 次の例では、各リストビューアイテムのインデックスを識別番号にマップし、各 id 番号のインデックスを取得します。 最後に、元のインデックスが取得されたかどうかを報告します。

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="movegroup"></a>  CListCtrl::MoveGroup

指定されたグループを、リストビューコントロールの0から始まる指定されたインデックスに移動します。

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>パラメーター

*iGroupId*<br/>
移動するグループの識別子。

*toIndex*<br/>
グループの移動先となる、0から始まるインデックス。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_MOVEGROUP](/windows/win32/Controls/lvm-movegroup)メッセージの機能をエミュレートします。

## <a name="moveitemtogroup"></a>  CListCtrl::MoveItemToGroup

指定した項目を指定したグループに移動します。

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>パラメーター

*idItemFrom*<br/>
から移動する項目のインデックス。

*idGroupTo*<br/>
から項目の移動先となるグループの識別子。

### <a name="remarks"></a>Remarks

> [!NOTE]
>  このメソッドは現在実装されていません。

このメソッドは、Windows SDK で説明されているように、 [LVM_MOVEITEMTOGROUP](/windows/win32/Controls/lvm-moveitemtogroup)メッセージの機能をエミュレートします。

## <a name="redrawitems"></a>  CListCtrl::RedrawItems

リストビューコントロールで項目の範囲を強制的に再描画します。

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>パラメーター

*nFirst*<br/>
再描画される最初の項目のインデックス。

*nLast*<br/>
再描画される最後の項目のインデックス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

リストビューウィンドウが WM_PAINT メッセージを受信するまで、指定した項目は実際には再描画されません。 すぐに再描画するには、この関数を使用した後で、Windows [Updatewindow](/windows/win32/api/winuser/nf-winuser-updatewindow)関数を呼び出します。

## <a name="removeallgroups"></a>  CListCtrl::RemoveAllGroups

リストビューコントロールからすべてのグループを削除します。

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_REMOVEALLGROUPS](/windows/win32/Controls/lvm-removeallgroups)メッセージの機能をエミュレートします。

## <a name="removegroup"></a>  CListCtrl::RemoveGroup

リストビューコントロールから指定されたグループを削除します。

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>パラメーター

*iGroupId*<br/>
削除するグループの識別子。

### <a name="return-value"></a>戻り値

成功した場合は、グループのインデックスを返します。それ以外の場合は-1 を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_REMOVEGROUP](/windows/win32/Controls/lvm-removegroup)メッセージの機能をエミュレートします。

## <a name="scroll"></a>CListCtrl:: Scroll

リストビューコントロールの内容をスクロールします。

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>パラメーター

*size*<br/>
水平方向および垂直方向のスクロールの量をピクセル単位で指定するオブジェクト。`CSize` `y` *Size*のメンバーは、リストビューコントロールの線の高さ (ピクセル単位) で除算され、結果の行数によってコントロールがスクロールされます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

## <a name="setbkcolor"></a>CListCtrl:: SetBkColor

リストビューコントロールの背景色を設定します。

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>パラメーター

*リターン*<br/>
設定する背景色、または背景色なしの CLR_NONE 値。 リストビューコントロールは、背景色を使用しない場合よりも大幅に速く再描画されます。 詳細については、Windows SDK の「 [COLORREF](/windows/win32/gdi/colorref) 」を参照してください。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="setbkimage"></a>CListCtrl:: SetBkImage

リストビューコントロールの背景イメージを設定します。

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>パラメーター

*plvbkImage*<br/>
新しい背景イメージ`LVBKIMAGE`情報を格納している構造体のアドレス。

*hBitmap*<br/>
ビットマップをハンドルします。

*pszUrl*<br/>
背景イメージの URL を含む NULL で終わる文字列。

*fTile*<br/>
イメージをリストビューコントロールの背景に並べて表示する場合は0以外の。それ以外の場合は0です。

*xOffsetPercent*<br/>
リストビューコントロールの原点からの、イメージの左端のオフセット (ピクセル単位)。

*yOffsetPercent*<br/>
リストビューコントロールの原点からのイメージの上端のオフセット (ピクセル単位)。

### <a name="return-value"></a>戻り値

成功した場合は0以外の値を返し、それ以外の場合は0を返します。

### <a name="remarks"></a>Remarks

> [!NOTE]
>  は`CListCtrl::SetBkImage` ole COM 機能を使用するため、を使用`SetBkImage`する前に ole ライブラリを初期化する必要があります。 アプリケーションの初期化時に COM ライブラリを初期化し、アプリケーションの終了時にライブラリの初期化を解除することをお勧めします。 これは、ActiveX テクノロジ、OLE オートメーション、OLE リンク/埋め込み、ODBC/DAO 操作を使用する MFC アプリケーションで自動的に実行されます。

### <a name="example"></a>例

「 [CListCtrl:: GetBkImage](#getbkimage)」の例を参照してください。

## <a name="setcallbackmask"></a>  CListCtrl::SetCallbackMask

リストビューコントロールのコールバックマスクを設定します。

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>パラメーター

*nMask*<br/>
コールバックマスクの新しい値。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="setcheck"></a>  CListCtrl::SetCheck

リストコントロール項目の状態イメージを表示するかどうかを決定します。

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
リストコントロール項目の0から始まるインデックス。

*fCheck*<br/>
項目の状態イメージを表示するかどうかを指定します。 既定では、 *Fcheck*は TRUE で、状態の画像は表示されます。 *Fcheck*が FALSE の場合は、表示されません。

### <a name="return-value"></a>戻り値

項目がチェックされている場合は0以外。それ以外の場合は0。

### <a name="example"></a>例

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="setcolumn"></a>  CListCtrl::SetColumn

リストビュー列の属性を設定します。

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
属性を設定する列のインデックス。

*pColumn*<br/>
Windows SDK で説明されているように、新しい列の属性を格納している[LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw)構造体のアドレス。 構造体の`mask`メンバーは、設定する列の属性を指定します。 メンバーで`mask` LVCF_TEXT 値が指定されている場合`pszText` 、構造体のメンバーは null で終わる文字列のアドレスであり`cchTextMax` 、構造体のメンバーは無視されます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

「 [CListCtrl:: GetColumn](#getcolumn)」の例を参照してください。

## <a name="setcolumnorderarray"></a>CListCtrl:: Setカラム Norderarray

リストビューコントロールの列の順序 (左から右) を設定します。

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>パラメーター

*piArray*<br/>
リストビューコントロール内の列のインデックス値 (左から右) を格納しているバッファーへのポインター。 バッファーは、リストビューコントロール内の列の合計数を格納するのに十分な大きさである必要があります。

*iCount*<br/>
リストビューコントロール内の列の数。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: Getカラム Norderarray](#getcolumnorderarray)」の例を参照してください。

## <a name="setcolumnwidth"></a>CListCtrl:: SetColumnWidth

レポートビューまたはリストビューの列の幅を変更します。

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
幅を設定する列のインデックス。 リストビューでは、このパラメーターは0である必要があります。

*cx*<br/>
列の新しい幅。 Windows SDK の「 [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) 」で説明されているように、LVSCW_AUTOSIZE または LVSCW_AUTOSIZE_USEHEADER のいずれかになります。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

## <a name="setextendedstyle"></a>CListCtrl:: SetExtendedStyle

リストビューコントロールの現在の拡張スタイルを設定します。

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>パラメーター

*dwNewStyle*<br/>
リストビューコントロールで使用される拡張スタイルの組み合わせ。 これらのスタイルの説明リストについては、Windows SDK の[拡張リストビュースタイル](/windows/win32/Controls/extended-list-view-styles)に関するトピックを参照してください。

### <a name="return-value"></a>戻り値

リストビューコントロールで使用される以前の拡張スタイルの組み合わせ。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="setgroupinfo"></a>  CListCtrl::SetGroupInfo

現在のリストビューコントロールの指定したグループを説明する情報を設定します。

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>パラメーター

*iGroupId*<br/>
情報が設定されているグループの識別子。

*pgrp*<br/>
設定する情報を格納している[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体へのポインター。 呼び出し元は、この構造体を割り当て、そのメンバーを設定する役割を担います。

### <a name="return-value"></a>戻り値

メソッドが成功した場合はグループの ID。それ以外の場合は-1。

### <a name="remarks"></a>Remarks

このメソッドは、Windows SDK で説明されている[LVM_SETGROUPINFO](/windows/win32/Controls/lvm-setgroupinfo)メッセージを送信します。

## <a name="setgroupmetrics"></a>  CListCtrl::SetGroupMetrics

リストビューコントロールのグループメトリックを設定します。

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>パラメーター

*pGroupMetrics*<br/>
設定するグループのメトリック情報を格納している[LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics)構造体へのポインター。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETGROUPMETRICS](/windows/win32/Controls/lvm-setgroupmetrics)メッセージの機能をエミュレートします。

## <a name="sethotcursor"></a>  CListCtrl::SetHotCursor

リストビューコントロールのホットトラッキングが有効になっている場合に使用するカーソルを設定します。

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>パラメーター

*hc*<br/>
ホットカーソルを表すために使用されるカーソルリソースへのハンドル。

### <a name="return-value"></a>戻り値

リストビューコントロールによって使用されている前のホットカーソルリソースへのハンドル。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor)の動作を実装します。

ホットカーソルは、ホバー選択が有効になっている場合にのみ表示され、カーソルが任意のリストビューアイテムを通過したときに表示されます。 ホバー選択は、LVS_EX_TRACKSELECT 拡張スタイルを設定することによって有効になります。

### <a name="example"></a>例

「 [CListCtrl:: GetHotCursor](#gethotcursor)」の例を参照してください。

## <a name="sethotitem"></a>  CListCtrl::SetHotItem

リストビューコントロールの現在のホット項目を設定します。

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>パラメーター

*iIndex*<br/>
ホット項目として設定する項目の0から始まるインデックス。

### <a name="return-value"></a>戻り値

前のホット項目の0から始まるインデックス。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: GetHotItem](#gethotitem)」の例を参照してください。

## <a name="sethovertime"></a>  CListCtrl::SetHoverTime

リストビューコントロールの現在のホバー時間を設定します。

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>パラメーター

*dwHoverTime*<br/>
マウスカーソルを選択する前に、その項目の上にマウスカーソルを合わせる必要がある新しい遅延 (ミリ秒単位)。 既定値が渡された場合、時刻は既定のホバー時刻に設定されます。

### <a name="return-value"></a>戻り値

前のホバー時間 (ミリ秒単位)。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: GetHoverTime](#gethovertime)」の例を参照してください。

## <a name="seticonspacing"></a>CListCtrl:: SetIconSpacing

リストビューコントロールのアイコン間の間隔を設定します。

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>パラメーター

*cx*<br/>
X 軸のアイコン間の間隔 (ピクセル単位)。

*暦年*<br/>
Y 軸上のアイコン間の間隔 (ピクセル単位)。

*size*<br/>
X 軸と y 軸のアイコン間の間隔 (ピクセル単位) を指定するオブジェクト。`CSize`

### <a name="return-value"></a>戻り値

アイコンの間隔の前の値を格納している[CSize](../../atl-mfc-shared/reference/csize-class.md)オブジェクト。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="setimagelist"></a>  CListCtrl::SetImageList

リストビューコントロールにイメージリストを割り当てます。

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>パラメーター

*pImageList*<br/>
割り当てるイメージリストへのポインター。

*nImageListType*<br/>
イメージリストの種類。 次のいずれかの値を指定できます。

- LVSIL_NORMAL イメージリストが大きいアイコンで表示されます。

- 小さいアイコンの LVSIL_SMALL イメージリスト。

- 状態イメージを含む LVSIL_STATE イメージリスト。

### <a name="return-value"></a>戻り値

前のイメージリストへのポインター。

### <a name="example"></a>例

「 [CListCtrl:: GetImageList](#getimagelist)」の例を参照してください。

## <a name="setinfotip"></a>  CListCtrl::SetInfoTip

ツールヒントのテキストを設定します。

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>パラメーター

*plvInfoTip*<br/>
設定する情報を格納している[LVFSETINFOTIP](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE、失敗した場合は FALSE を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETINFOTIP](/windows/win32/Controls/lvm-setinfotip)メッセージの機能をエミュレートします。

## <a name="setinsertmark"></a>  CListCtrl::SetInsertMark

定義された位置に挿入ポイントを設定します。

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>パラメーター

*plvim*<br/>
挿入ポイントを設定する場所を指定する[LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE、それ以外の場合は FALSE を返します。 構造`LVINSERTMARK`体の`cbSize`メンバーのサイズが構造体の実際のサイズと等しくない場合、または挿入ポイントが現在のビューに適用されない場合は、FALSE が返されます。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETINSERTMARK](/windows/win32/Controls/lvm-setinsertmark)メッセージの機能をエミュレートします。

## <a name="setinsertmarkcolor"></a>  CListCtrl::SetInsertMarkColor

挿入ポイントの色を設定します。

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>パラメーター

*色*<br/>
挿入ポイントを設定する色を指定する[COLORREF](/windows/win32/gdi/colorref)構造体。

### <a name="return-value"></a>戻り値

前の色を含む構造体を返します。`COLORREF`

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETINSERTMARKCOLOR](/windows/win32/Controls/lvm-setinsertmarkcolor)メッセージの機能をエミュレートします。

## <a name="setitem"></a>CListCtrl:: SetItem

リストビュー項目の属性の一部またはすべてを設定します。

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>パラメーター

*pItem*<br/>
Windows SDK で説明されているように、新しい項目の属性を格納している[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のアドレス。 構造体の`iItem`メンバー `iSubItem`とメンバーは、項目またはサブ項目を識別`mask`し、構造体のメンバーは、設定する属性を指定します。 `mask`メンバーの詳細については、「**解説**」を参照してください。

*nItem*<br/>
属性を設定する項目のインデックス。

*nSubItem アイテム*<br/>
属性が設定されるサブ項目のインデックス。

*nMask*<br/>
設定する属性を指定します (「解説」を参照してください)。

*lpszItem*<br/>
項目のラベルを指定する null で終わる文字列のアドレス。

*nImage*<br/>
イメージリスト内の項目のイメージのインデックス。

*nState*<br/>
変更する状態の値を指定します (「解説」を参照してください)。

*nStateMask*<br/>
変更する状態を指定します (「解説」を参照してください)。

*lParam*<br/>
項目に関連付けられる32ビットアプリケーション固有の値。

*n インデント*<br/>
インデントの幅 (ピクセル単位)。 *Nindent*がシステム定義の最小幅よりも小さい場合、新しい幅はシステム定義の最小値に設定されます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

`LVITEM` 構造体`iItem`と*nItem*および*nsubitem 項目*のメンバーは、属性が設定される項目とサブ項目を識別します。`iSubItem`

構造体`LVITEM`のメンバーと*nmask*パラメーターは、 `mask`どの項目属性を設定するかを指定します。

- LVIF_TEXT メンバーまたは*lpszitem*パラメーターは、null で`cchTextMax`終わる文字列のアドレスです。メンバーは無視されます。 `pszText`

- LVIF_STATE メンバーまたは*nStateMask*パラメーターでは、どの項目の状態を`state`変更するかを指定し、メンバーまたは nState パラメーターにこれらの状態の値を格納します。 `stateMask`

### <a name="example"></a>例

「 [CListCtrl:: system.windows.media.visualtreehelper.hittest](#hittest)」の例を参照してください。

## <a name="setitemcount"></a>  CListCtrl::SetItemCount

多数の項目を追加するためのリストビューコントロールを準備します。

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>パラメーター

*n 項目*<br/>
コントロールに最終的に含まれる項目の数。

### <a name="remarks"></a>Remarks

仮想リストビューコントロールの項目数を設定するには、「 [CListCtrl:: SetItemCountEx](#setitemcountex)」を参照してください。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount)の動作を実装します。

### <a name="example"></a>例

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemcountex"></a>CListCtrl:: SetItemCountEx

仮想リストビューコントロールの項目数を設定します。

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>パラメーター

*iCount*<br/>
コントロールに最終的に含まれる項目の数。

*dwFlags*<br/>
項目数をリセットした後のリストビューコントロールの動作を指定します。 この値は、次の組み合わせにすることができます。

- LVSICF_NOINVALIDATEALL リストビューコントロールは、影響を受ける項目が現在表示されている場合を除き、再描画されません。 これが既定値です。

- LVSICF_NOSCROLL 項目数が変更されても、リストビューコントロールはスクロール位置を変更しません。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDKand で説明されているように、Win32 マクロ[ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex)の動作を実装します。

### <a name="example"></a>例

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemdata"></a>CListCtrl:: SetItemData

*NItem*によって指定された項目に関連付けられている32ビットアプリケーション固有の値を設定します。

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
データを設定するリスト項目のインデックス。

*dwData*<br/>
項目に関連付けられる32ビット値。

### <a name="return-value"></a>戻り値

正常終了した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

この値は、 `lParam` Windows SDK で説明されているように、 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のメンバーです。

### <a name="example"></a>例

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="setitemindexstate"></a>  CListCtrl::SetItemIndexState

現在のリストビューコントロールの項目の状態を設定します。

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*pItemIndex*|から項目を記述する[LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体へのポインター。 呼び出し元は、この構造体を割り当て、そのメンバーを設定する役割を担います。|
|*dwState*|から項目を設定する状態。[リストビュー項目の状態](/windows/win32/Controls/list-view-item-states)のビットごとの組み合わせです。 リセットする場合は0を、状態を設定する場合は1を指定します。|
|*dwMask*|から*Dwstate*パラメーターによって指定された状態の有効なビットのマスク。 [リストビュー項目の状態](/windows/win32/Controls/list-view-item-states)のビットごとの組み合わせ (または) を指定します。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

*Dwstate*パラメーターの詳細については、「[リストビュー項目の状態](/windows/win32/Controls/list-view-item-states)」を参照してください。

*DwMask*パラメーターの詳細については、 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体の*stateMask*メンバーを参照してください。

このメソッドは、Windows SDK で説明されている[LVM_SETITEMINDEXSTATE](/windows/win32/Controls/lvm-setitemindexstate)メッセージを送信します。

## <a name="setitemposition"></a>CListCtrl:: SetItemPosition

リストビューコントロール内の指定した位置に項目を移動します。

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
位置を設定する項目のインデックス。

*未満*<br/>
項目の左上隅の新しい位置 (ビュー座標) を指定する[ポイント](/previous-versions/dd162805\(v=vs.85\))構造体。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

コントロールはアイコンまたは小さいアイコンビューに含まれている必要があります。

リストビューコントロールに LVS_AUTOARRANGE スタイルが設定されている場合、項目の位置が設定された後でリストビューが配置されます。

### <a name="example"></a>例

「 [CListCtrl:: GetItemPosition](#getitemposition)」の例を参照してください。

## <a name="setitemstate"></a>  CListCtrl::SetItemState

リストビューコントロール内の項目の状態を変更します。

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
状態が設定される項目のインデックス。

*pItem*<br/>
Windows SDK で説明されているように、 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のアドレス。 構造体の`stateMask`メンバーは、変更する状態ビットを指定します。 `state`また、構造体のメンバーは、そのビットの新しい値を格納します。 他のメンバーは無視されます。

*nState*<br/>
状態ビットの新しい値。 使用可能な値の一覧については、「 [CListCtrl:: GetNextItem](#getnextitem) 」と「 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) state メンバー」を参照してください。

*nMask*<br/>
変更する状態ビットを指定するマスク。 この値は、 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体の stateMask メンバーに対応します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

項目の "状態" は、項目の可用性を指定する値か、ユーザーの操作を示します。または、項目の状態を反映します。 リストビューコントロールは、ユーザーが項目を選択したときなど、一部の状態ビットを変更します。 アプリケーションは、他の状態ビットを変更して、項目を無効または非表示にしたり、オーバーレイイメージまたは状態イメージを指定したりすることがあります。

### <a name="example"></a>例

「 [CListCtrl:: GetTopIndex](#gettopindex)」の例を参照してください。

## <a name="setitemtext"></a>CListCtrl:: SetItemText

リストビュー項目またはサブ項目のテキストを変更します。

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
テキストを設定する項目のインデックス。

*nSubItem アイテム*<br/>
サブ項目のインデックス。項目ラベルを設定する場合は0。

*lpszText*<br/>
新しい項目のテキストを含む文字列へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

このメソッドは、LVS_OWNERDATA ウィンドウスタイルを含むコントロールで使用するためのものではありません (実際には、デバッグビルドでアサーションが発生します)。 このリストコントロールスタイルの詳細については、「[リストビューコントロールの概要](/windows/win32/Controls/list-view-controls-overview)」を参照してください。

### <a name="example"></a>例

「 [CListCtrl:: InsertItem](#insertitem)」の例を参照してください。

## <a name="setoutlinecolor"></a>CListCtrl:: SetOutlineColor

[LVS_EX_BORDERSELECT](/windows/win32/Controls/list-view-window-styles)の拡張ウィンドウスタイルが設定されている場合に、リストビューコントロールの境界線の色を設定します。

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>パラメーター

*色*<br/>
輪郭の色を含む新しい[COLORREF](/windows/win32/gdi/colorref)構造体。

### <a name="return-value"></a>戻り値

輪郭の`COLORREF`色を含む前の構造体

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETOUTLINECOLOR](/windows/win32/Controls/lvm-setoutlinecolor)メッセージの機能をエミュレートします。

## <a name="setselectedcolumn"></a>  CListCtrl::SetSelectedColumn

リストビューコントロールの選択された列を設定します。

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>パラメーター

*iCol*<br/>
選択する列のインデックス。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETSELECTEDCOLUMN](/windows/win32/Controls/lvm-setselectedcolumn)メッセージの機能をエミュレートします。

## <a name="setselectionmark"></a>  CListCtrl::SetSelectionMark

リストビューコントロールの選択マークを設定します。

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>パラメーター

*iIndex*<br/>
複数選択範囲内の最初の項目の0から始まるインデックス。

### <a name="return-value"></a>戻り値

前の選択マーク。選択マークがない場合は-1。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark)の動作を実装します。

### <a name="example"></a>例

「 [CListCtrl:: GetSelectionMark](#getselectionmark)」の例を参照してください。

## <a name="settextbkcolor"></a>CListCtrl:: SetTextBkColor

リストビューコントロール内のテキストの背景色を設定します。

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>パラメーター

*リターン*<br/>
新しいテキストの背景色を指定する COLORREF。 詳細については、Windows SDK の「 [COLORREF](/windows/win32/gdi/colorref) 」を参照してください。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="settextcolor"></a>  CListCtrl::SetTextColor

リストビューコントロールのテキストの色を設定します。

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>パラメーター

*リターン*<br/>
新しいテキストの色を指定する COLORREF。 詳細については、Windows SDK の「 [COLORREF](/windows/win32/gdi/colorref) 」を参照してください。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="settileinfo"></a>  CListCtrl::SetTileInfo

リストビューコントロールのタイルの情報を設定します。

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>パラメーター

*Pタイル情報*<br/>
設定する情報を格納している[LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE、失敗した場合は FALSE を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETTILEINFO](/windows/win32/Controls/lvm-settileinfo)メッセージの機能をエミュレートします。

## <a name="settileviewinfo"></a>  CListCtrl::SetTileViewInfo

リストビューコントロールがタイルビューで使用する情報を設定します。

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>パラメーター

*ptvi*<br/>
設定する情報を格納している[LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE、失敗した場合は FALSE を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETTILEVIEWINFO](/windows/win32/Controls/lvm-settileviewinfo)メッセージの機能をエミュレートします。

## <a name="settooltips"></a>CListCtrl:: SetToolTips ヒント

リストビューコントロールがツールヒントを表示するために使用するツールヒントコントロールを設定します。

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>パラメーター

*pWndTip*<br/>
リストコントロールが使用`CToolTipCtrl`するオブジェクトへのポインター。

### <a name="return-value"></a>戻り値

コントロールで以前に使用されていたツールヒントを格納している[CToolTipCtrl](ctooltipctrl-class.md)オブジェクトへのポインター。以前にツールヒントが使用されていない場合は NULL。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 message [LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips)の動作を実装します。

ツールヒントを使用しない場合は、 `CListCtrl`オブジェクトを作成するときに LVS_NOTOOLTIPS スタイルを指定します。

## <a name="setview"></a>CListCtrl:: SetView

リストビューコントロールのビューを設定します。

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>パラメーター

*iView*<br/>
選択するビュー。

### <a name="return-value"></a>戻り値

成功した場合は1を返し、それ以外の場合は-1 を返します。 たとえば、ビューが無効な場合は、-1 が返されます。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SETVIEW](/windows/win32/Controls/lvm-setview)メッセージの機能をエミュレートします。

## <a name="setworkareas"></a>  CListCtrl::SetWorkAreas

リストビューコントロールでアイコンを表示する領域を設定します。

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>パラメーター

*Nワークエリア*<br/>
LpRect が指す`RECT`配列内の構造体 (または[CRect](../../atl-mfc-shared/reference/crect-class.md)オブジェクト) の数。

*lpRect*<br/>
リストビューコントロールの新しい作業`RECT`領域を指定`CRect`する構造体 (またはオブジェクト) の配列のアドレス。 これらの領域は、クライアント座標で指定する必要があります。 このパラメーターが NULL の場合、作業領域はコントロールのクライアント領域に設定されます。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="sortgroups"></a>CListCtrl:: SortGroups

アプリケーションによって定義された比較関数を使用して、リストビューコントロール内の ID でグループを並べ替えます。

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>パラメーター

*Pf比較 (_d)*<br/>
グループ比較関数へのポインター。

*plv (_s)*<br/>
Void ポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE、失敗した場合は FALSE を返します。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、 [LVM_SORTGROUPS](/windows/win32/Controls/lvm-sortgroups)メッセージの機能をエミュレートします。

## <a name="sortitems"></a>CListCtrl:: SortItems

アプリケーション定義の比較関数を使用して、リストビューの項目を並べ替えます。

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>パラメーター

*pfnCompare*<br/>
からアプリケーションで定義された比較関数のアドレス。

並べ替え操作では、2つのリスト項目の相対順序を決定する必要があるたびに、比較関数が呼び出されます。 比較関数は、クラスの静的メンバーであるか、任意のクラスのメンバーではないスタンドアロン関数である必要があります。

*dwData*<br/>
から比較関数に渡されるアプリケーション定義の値。

### <a name="return-value"></a>戻り値

メソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

このメソッドは、新しいシーケンスを反映するように各項目のインデックスを変更します。

比較関数の*Pfncompare*には、次の形式があります。

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
比較関数は、最初の項目が2番目の項目の前にある場合は負の値、最初の項目が2番目の項目の場合は正の値、2つの項目が等しい場合は0を返す必要があります。

*LParam1*パラメーターは、比較される最初の項目に関連付けられている32ビット値です。 *lParam2*パラメーターは、2番目の項目に関連付けられている値です。 これらは、リストに挿入されたときに、項目の[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体の*lParam*メンバーに指定された値です。 *Lparamsort*パラメーターは、 *dwdata*値と同じです。

このメソッドは、Windows SDK で説明されている[LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems)メッセージを送信します。

### <a name="example"></a>例

次に示すのは、項目が*lParam*値によって並べ替えられる単純な比較関数です。

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="sortitemsex"></a>CListCtrl:: SortItemsEx

アプリケーション定義の比較関数を使用して、現在のリストビューコントロールの項目を並べ替えます。

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*pfnCompare*|からアプリケーションで定義された比較関数のアドレス。<br /><br /> 並べ替え操作では、2つのリスト項目の相対順序を決定する必要があるたびに、比較関数が呼び出されます。 比較関数は、クラスの静的メンバーであるか、任意のクラスのメンバーではないスタンドアロン関数である必要があります。|
|*dwData*|から比較関数に渡されるアプリケーション定義の値。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>Remarks

このメソッドは、新しいシーケンスを反映するように各項目のインデックスを変更します。

比較関数の*Pfncompare*には、次の形式があります。

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
このメッセージは、比較関数に渡される情報の種類を除いて、 [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems)に似ています。 [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems)では、 *lParam1*と*lParam2*は比較する項目の値です。 [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex)では、 *lParam1*は比較する最初の項目の現在のインデックスであり、 *lParam2*は2番目の項目の現在のインデックスです。 [LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext)メッセージを送信して、項目に関する詳細情報を取得できます。

比較関数は、最初の項目が2番目の項目の前にある場合は負の値、最初の項目が2番目の項目の場合は正の値、2つの項目が等しい場合は0を返す必要があります。

> [!NOTE]
>  並べ替え処理中に、リストビューの内容が不安定になります。 コールバック関数が[LVM_GETITEM](/windows/win32/Controls/lvm-getitem)以外のリストビューコントロールにメッセージを送信した場合、結果は予測できません。

このメソッドは、Windows SDK で説明されている[LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex)メッセージを送信します。

### <a name="example"></a>例

現在のリストビューコントロールにアクセスする`m_listCtrl`ために使用される変数を定義するコード例を次に示します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

次のコード例は、 `SortItemEx`メソッドを示しています。 このコード例の前のセクションでは、レポートビューに "ClientID" と "グレード" という名前の2つの列を表示するリストビューコントロールを作成しました。 次のコード例では、"グレード" 列の値を使用してテーブルを並べ替えます。

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="subitemhittest"></a>CListCtrl:: SubItemHitTest

リストビューアイテム (存在する場合) が特定の位置にあるかどうかを判断します。

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>パラメーター

*pInfo*<br/>
[LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

テストする項目またはサブ項目の1から始まるインデックス (存在する場合)。それ以外の場合は-1。

### <a name="remarks"></a>Remarks

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest)の動作を実装します。

### <a name="example"></a>例

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="update"></a>  CListCtrl::Update

*NItem*によって指定された項目をリストビューコントロールに強制的に再描画します。

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>パラメーター

*nItem*<br/>
更新する項目のインデックス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>Remarks

この関数では、LVS_AUTOARRANGE スタイルが指定されている場合に、リストビューコントロールも配置されます。

### <a name="example"></a>例

「 [CListCtrl:: GetSelectedCount](#getselectedcount)」の例を参照してください。

## <a name="see-also"></a>関連項目

[MFC のサンプル行リスト](../../overview/visual-cpp-samples.md)<br/>
[CWnd クラス](cwnd-class.md)<br/>
[階層図](../hierarchy-chart.md)<br/>
[CImageList クラス](cimagelist-class.md)
