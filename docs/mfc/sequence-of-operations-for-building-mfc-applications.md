---
title: MFC アプリケーションの作成手順
ms.date: 09/09/2019
helpviewer_keywords:
- applications [MFC], developing
ms.assetid: 6973c714-fe20-48c6-926b-de88356b3a3d
ms.openlocfilehash: ab5f9bcd50ab2f2c5456ca666ef79f7033966589
ms.sourcegitcommit: 3caf5261b3ea80d9cf14038c116ba981d655cd13
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/11/2019
ms.locfileid: "70907574"
---
# <a name="sequence-of-operations-for-building-mfc-applications"></a>MFC アプリケーションの作成手順

次の表では、MFC アプリケーションを開発するときに通常従う必要がある一般的な手順について説明します。

### <a name="sequence-for-building-an-application-with-the-framework"></a>フレームワークを使用してアプリケーションをビルドするためのシーケンス

|タスク|そうですよね|フレームワークは|
|----------|------------|------------------------|
|スケルトンアプリケーションを作成します。|[MFC アプリケーションウィザード](../mfc/reference/mfc-application-wizard.md)を実行します。 [オプション] ページで、必要なオプションを指定します。 アプリケーションを COM コンポーネント、コンテナー、またはその両方にするオプションがあります。オートメーションの追加アプリケーションをデータベース対応にすることができます。|MFC アプリケーションウィザードでは、アプリケーションのソースファイル、ドキュメント、ビュー、フレームウィンドウなど、スケルトンアプリケーションのファイルが作成されます。リソースファイル。プロジェクトファイル。他にも、すべての仕様に合わせて調整されています。|
|独自のコードの行を追加せずに、フレームワークと MFC アプリケーションウィザードで提供される機能を確認します。|スケルトンアプリケーションをビルドし、ビジュアルC++で実行します。|実行中のスケルトンアプリケーションは、フレームワークから多くの標準の **[ファイル]** 、 **[編集]** 、 **[表示]** 、 **[ヘルプ]** メニューの各コマンドを継承します。 MDI アプリケーションの場合は、完全に機能する Windows メニューも表示され、フレームワークは MDI 子ウィンドウの作成、配置、および破棄を管理します。|
|アプリケーションのユーザーインターフェイスを構築します。|ビジュアルC++ [リソースエディター](../windows/resource-editors.md)を使用して、アプリケーションのユーザーインターフェイスを視覚的に編集します。<br /><br /> -メニューを作成します。<br />-アクセラレータを定義します。<br />-ダイアログボックスを作成します。<br />-ビットマップ、アイコン、およびカーソルを作成して編集します。<br />-MFC アプリケーションウィザードによって作成されたツールバーを編集します。<br />-その他のリソースを作成および編集します。<br /><br /> ダイアログエディターでダイアログボックスをテストすることもできます。|MFC アプリケーションウィザードによって作成される既定のリソースファイルには、必要なリソースが多数用意されています。 ビジュアルC++を使用すると、既存のリソースを編集し、簡単かつ視覚的に新しいリソースを追加できます。|
|メニューをハンドラー関数にマップします。|**クラスビュー**の [ [**プロパティ**] ウィンドウ](/visualstudio/ide/reference/properties-window)(または[クラスウィザード](reference/mfc-class-wizard.md)の **[コマンド]** タブ) の **[イベント]** ボタンを使用すると、メニューやアクセラレータをコード内のハンドラー関数に接続できます。|これらのツールは、指定されたソースファイルにメッセージマップエントリと空の関数テンプレートを挿入し、多くの手動コーディングタスクを管理します。|
|ハンドラーコードを記述します。|ソースコードエディターのコードに直接移動するには、クラスビューを使用します。 ハンドラー関数のコードを入力します。 クラスビューおよびプロジェクトにコードを追加するウィザードの使用方法の詳細については、「[コードウィザードを使用](../ide/adding-functionality-with-code-wizards-cpp.md)した機能の追加」を参照してください。|クラスビューエディターを開き、空の関数テンプレートまでスクロールして、カーソルを移動します。|
|ツールバーのボタンをコマンドにマップします。|ツールバーの各ボタンをメニューまたはアクセラレータコマンドにマップするには、そのボタンに適切なコマンド ID を割り当てます。|フレームワークは、ツールバーボタンの描画、有効化、無効化、チェック、およびその他の視覚的な側面を制御します。|
|ハンドラー関数をテストします。|プログラムをリビルドし、組み込みのデバッグツールを使用して、ハンドラーが正しく動作することをテストします。|コードをステップ実行またはトレースし、ハンドラーがどのように呼び出されるかを確認できます。 ハンドラーコードを入力した場合、ハンドラーはコマンドを実行します。 フレームワークは、処理されないメニュー項目とツールバーボタンを自動的に無効にします。|
|[ダイアログボックス](../mfc/dialog-boxes.md)を追加します。|ダイアログエディターを使用してダイアログテンプレートリソースをデザインします。 次に、ダイアログボックスを処理するダイアログクラスとコードを作成します。|フレームワークはダイアログボックスを管理し、ユーザーが入力した情報の取得を容易にします。|
|ダイアログボックスのデータを初期化、検証、および取得します。|また、ダイアログボックスのコントロールを初期化および検証する方法を定義することもできます。 Visual Studio を使用して、ダイアログクラスにメンバー変数を追加し、それをダイアログコントロールにマップします。 ユーザーがデータを入力するたびに、各コントロールに適用される検証規則を指定します。 必要に応じて、独自のカスタム検証を提供します。|フレームワークは、ダイアログボックスの初期化と検証を管理します。 ユーザーが無効な情報を入力すると、フレームワークによってメッセージボックスが表示され、ユーザーがデータを再入力できるようになります。|
|追加のクラスを作成します。|クラスビューを使用すると、MFC アプリケーションウィザードによって自動的に作成されたもの以外の、追加のドキュメント、ビュー、およびフレームウィンドウクラスを作成できます。 追加のデータベースレコードセットクラス、ダイアログクラスなどを作成できます。 (クラスビューを使用すると、MFC クラスから派生していないクラスを作成できます)。|クラスビューは、これらのクラスをソースファイルに追加し、処理するすべてのコマンドへの接続を定義するのに役立ちます。|
|すぐに使用できるコンポーネントをアプリケーションに追加します。|を使用`New Item dialog box`して、さまざまな項目を追加します。|これらの項目は、アプリケーションに簡単に統合でき、非常に多くの作業を保存できます。|
|ドキュメントクラスを実装します。|アプリケーション固有のドキュメントクラスまたはクラスを実装します。 データ構造を保持するメンバー変数を追加します。 データへのインターフェイスを提供するメンバー関数を追加します。|フレームワークは、ドキュメントデータファイルを操作する方法を既に認識しています。 ドキュメントファイルの開閉、ドキュメントのデータの読み取りと書き込み、および他のユーザーインターフェイスの処理を行うことができます。 ドキュメントのデータがどのように操作されるかに焦点を当てることができます。|
|[開く]、[保存]、および [名前を付けて保存] コマンドを実装します。|ドキュメントの`Serialize`メンバー関数のコードを記述します。|フレームワークでは、 **[ファイル]** メニューの **[開く]** 、 **[保存]** 、名前を付け **[て保存]** コマンドのダイアログボックスが表示されます。 `Serialize`メンバー関数で指定されたデータ形式を使用して、ドキュメントを読み書きします。|
|ビュークラスを実装します。|ドキュメントに対応する1つ以上のビュークラスを実装します。 クラスビューを使用してユーザーインターフェイスにマップしたビューのメンバー関数を実装します。 [CListView](../mfc/reference/clistview-class.md)や[CTreeView](../mfc/reference/ctreeview-class.md)など、さまざまな[CView](../mfc/reference/cview-class.md)派生クラスを使用できます。|フレームワークは、ドキュメントとそのビューの関係のほとんどを管理します。 ビューのメンバー関数は、ビューのドキュメントにアクセスして、画面または印刷ページに画像を表示したり、ユーザーの編集コマンドに応じてドキュメントのデータ構造を更新したりします。|
|既定の印刷機能を強化します。|複数ページ印刷をサポートする必要がある場合は、ビューメンバー関数をオーバーライドします。|フレームワークでは、 **[ファイル]** メニューの **[印刷]** 、 **[ページ設定]** 、 **[印刷プレビュー]** の各コマンドがサポートされています。 ドキュメントを複数のページに分割する方法を通知する必要があります。|
|スクロールを追加します。|スクロールをサポートする必要がある場合は、 [CScrollView](../mfc/reference/cscrollview-class.md)からビュークラスまたはクラスを派生させます。|ビューウィンドウが小さすぎると、ビューに自動的にスクロールバーが追加されます。|
|フォームビューを作成します。|ダイアログテンプレートのリソースに基づいてビューを作成する場合は、ビュークラスを[CFormView](../mfc/reference/cformview-class.md)から派生させます。|ビューは、ダイアログテンプレートリソースを使用してコントロールを表示します。 ユーザーは、コントロールからコントロールにタブを表示できます。|
|データベースフォームを作成します。|フォームベースのデータアクセスアプリケーションが必要な場合は、 [CRecordView](../mfc/reference/crecordview-class.md) (ODBC プログラミングの場合) からビュークラスを派生させます。|ビューはフォームビューのように動作しますが、そのコントロールは、データベーステーブルを表す[CRecordset](../mfc/reference/crecordset-class.md)オブジェクトのフィールドに接続されています。 MFC では、コントロールとレコードセットの間でデータを移動します。|
|単純なテキストエディターを作成します。|ビューを単純なテキストエディターにする場合は、1つまたは複数のビュークラスを[CEditView](../mfc/reference/ceditview-class.md)または[CRichEditView](../mfc/reference/cricheditview-class.md)から派生させます。|ビューには、編集機能、クリップボードのサポート、およびファイルの入出力が用意されています。 `CRichEditView`スタイル付きテキストを提供します。|
|分割ウィンドウを追加します。|ウィンドウの分割をサポートする場合は、 [CSplitterWnd](../mfc/reference/csplitterwnd-class.md)オブジェクトを SDI フレームウィンドウまたは MDI 子ウィンドウに追加し、ウィンドウの[OnCreateClient](../mfc/reference/cframewnd-class.md#oncreateclient)メンバー関数にフックします。|フレームワークは、スクロールバーの横にスプリッターボックスコントロールを提供し、ビューを複数のペインに分割して管理します。 ユーザーがウィンドウを分割すると、フレームワークによって追加のビューオブジェクトが作成され、ドキュメントにアタッチされます。|
|アプリケーションをビルド、テスト、およびデバッグします。|ビジュアルC++の機能を使用して、アプリケーションをビルド、テスト、およびデバッグします。|ビジュアルC++では、コンパイル、リンク、およびその他のオプションを調整できます。 また、ソースコードとクラスの構造を参照することもできます。|

## <a name="see-also"></a>関連項目

[OLE アプリケーションの作成手順](../mfc/sequence-of-operations-for-creating-ole-applications.md)<br/>
[ActiveX コントロールの作成手順](../mfc/sequence-of-operations-for-creating-activex-controls.md)<br/>
[データベース アプリケーションの作成手順](../mfc/sequence-of-operations-for-creating-database-applications.md)<br/>
[フレームワークを使ったアプリケーションの作成](../mfc/building-on-the-framework.md)
