---
title: '方法: リソースを作成するC++()'
ms.date: 02/14/2019
f1_keywords:
- vc.editors.resource
- vc.resvw.add.MFC
- vs.resourceview.F1
- vc.editors.insertresource
- vc.editors.newcustomresource
helpviewer_keywords:
- rc files [C++], creating
- .rc files [C++], creating
- resource script files [C++], creating
- resources [C++], viewing
- rc files [C++], viewing resources
- .rc files [C++], viewing resources
- resource script files [C++], viewing resources
- resource script files [C++], opening in text format
- .rc files [C++], opening in text format
- rc files [C++], opening in text format
- rc files [C++], adding MFC support
- .rc files [C++], adding MFC support
- MFC, adding support to resource scripts files
- resource script files [C++], adding MFC support
- toolbars [C++], resources
- resource toolbars
- resources [C++], creating
- Resource View window
- resources [C++], adding
- Add Resource dialog box [C++]
- Custom Resource Type dialog box [C++]
- language-specific template files [C++]
- resource templates
- rct files [C++]
- templates, resource templates
- resources [C++], templates
- .rct files [C++]
ms.assetid: 82be732a-cdcd-4a58-8de7-976d1418f86b
ms.openlocfilehash: c997c7a1b2d7fb3a852a42fa78faf2be6074705e
ms.sourcegitcommit: 9aab425662a66825772f091112986952f341f7c8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/16/2019
ms.locfileid: "72444966"
---
# <a name="how-to-create-resources-c"></a>方法: リソースを作成するC++()

プロジェクトのリソースは、次の方法で作成できます。

- リソーススクリプトファイルを使用します。

   > [!NOTE]
   > この手順は、リソースを追加する前に行う必要があります。

- リソースをプロジェクトに追加し、**リソースビュー**を使用します。

- リソーステンプレートを使用して、カスタマイズされたリソースを作成する。

## <a name="use-resource-script-files"></a>リソーススクリプトファイルを使用する

新しいリソースを作成してプロジェクトに追加する前に、まずリソーススクリプト (.rc) ファイルを作成する必要があります。

> [!NOTE]
> リソーススクリプトファイルは、Visual Studio IDE に読み込まれている既存のプロジェクトにのみ追加できます。 プロジェクトの外部では、スタンドアロンリソーススクリプトを作成することはできません。ただし、リソーステンプレート (.rct) ファイルはいつでも作成できます。

### <a name="to-create-a-resource-script-file"></a>リソーススクリプトファイルを作成するには

1. *MyProject*など、**ソリューションエクスプローラー**の既存のプロジェクトフォルダーにフォーカスを移します。

   > [!NOTE]
   > **ソリューションエクスプローラー**のソリューションフォルダーとプロジェクトフォルダーを混同しないでください。 **ソリューション**フォルダーにフォーカスを移すと、 **[新しい項目の追加]** の選択肢は同じになりません。

1. メニューで、 **[プロジェクト]** 、 **[新しい項目の追加]** の > にアクセスします。

1. **ビジュアルC++** フォルダーを選択し、右側のウィンドウで **[リソースファイル (.rc)]** を選択します。

1. **[名前]** テキストボックスにリソーススクリプトファイルの名前を指定し、 **[開く]** を選択します。

### <a name="to-open-a-resource-script-file"></a>リソーススクリプトファイルを開くには

プロジェクトを開いていなくても、リソーススクリプトファイル内のリソースを表示できます。 スクリプトファイルは、**リソースビュー**ではなく、ドキュメントウィンドウに表示されます。

> [!NOTE]
> 一部のコマンドは、ファイルがスタンドアロンで開かれている場合にのみ使用できます。つまり、プロジェクトを最初に読み込むことなく、プロジェクトの外部で開くことができます。 たとえば、[名前を付け**て保存**] コマンドを使用して、別の形式またはファイル名でファイルを保存するには、ファイルをスタンドアロンで開く必要があります。

- プロジェクトの外部でリソーススクリプトファイルを開くには、メニューで **[ファイル]** 、 **[開く]** 、 **[ファイル]** の順にクリックし > ます。 リソーススクリプトファイルに移動し、ファイルを強調表示して、 **[開く]** を選択します。

    > [!NOTE]
    > リソースエディターを使用してリソースを開くことなく、プロジェクトのリソーススクリプトファイルの内容を表示することが必要になる場合があります。 たとえば、リソース ファイル内のすべてのダイアログ ボックスで文字列を検索する場合に、個別にダイアログ ボックスを開区必要はありません。 リソースファイルは、テキスト形式で簡単に開いて、含まれているすべてのリソースを表示し、テキストエディターでサポートされているグローバル操作を完了することができます。
    >
    > リソーススクリプトファイルをテキスト形式で開くには、上の手順の **[開く]** ボタンの右側にあるドロップダウン矢印を使用し、 **[ファイルを開くアプリケーション]** の選択 をクリックします。 **[ソースコード (テキスト) エディター]** を選択し、 **[名前を付けて開く]** ドロップダウンリストから **[テキスト]** を選択すると、**ソースコード**エディターにリソースが表示されます。

- 複数のリソーススクリプトを開くには、 *Source1*や*Source2*など、開くファイルごとに上記と同じ手順に従います。 次に、両方の .rc ファイルが別々のドキュメントウィンドウで開かれている場合は、 **[ウィンドウ]** メニューを使用するか、いずれかのファイルを右クリックし、 **[水平タブグループ]** の新規作成 または **[垂直タブグループの新規作成]** を選択します。 ウィンドウが並べて表示され、同時に表示できるようになります。

> [!TIP]
> リソーススクリプトファイルを開くには、**ソリューションエクスプローラー**で .rc ファイルを右クリックし、ファイルを **[開くアプリケーションの]** 選択 をクリックして **[ソースコード (テキスト) エディター]** を選択します。

[Mfc アプリケーションウィザード](../mfc/reference/mfc-application-wizard.md)を使用して Windows 用の Microsoft Foundation CLASS (mfc) アプリケーションをビルドすると、ウィザードによって、mfc のコア機能を含む、リソーススクリプト (.rc) ファイルを含む基本的なファイルのセットが生成されます。 ただし、MFC に基づくものではない Windows アプリケーションの .rc ファイルを編集する場合、これらの MFC 固有の機能は使用できません。 これには、コードウィザード、メニュープロンプト文字列、コンボボックスコントロールのリストの内容、および ActiveX コントロールのホストが含まれます。

- リソーススクリプトファイルを開いた状態で MFC サポートを追加するには、**リソースビュー**で、resources フォルダー (たとえば、 *MFC*) を選択します。 次に、[プロパティウィンドウ](/visualstudio/ide/reference/properties-window)で、 **MFC モード**を**True**に設定します。

  > [!NOTE]
  > **Mfc モード**の設定に加えて、.rc ファイルは mfc プロジェクトの一部である必要があります。 Win32 プロジェクトの .rc ファイルで**Mfc モード**を**True**に設定しても、mfc 機能は提供されません。

## <a name="create-resources"></a>リソースの作成

リソースは、新しい既定のリソースとして作成できます。これは、テンプレートに基づいていないリソースや、テンプレートの後でパターン化されたリソースを意味します。

プロジェクトに含まれているリソースファイルを表示するには、 **[リソースビュー]** ウィンドウを使用します。 一番上のフォルダー (たとえば、 *Project1*) を展開すると、そのファイル内のリソースの種類が表示されます。 各リソースの種類を展開して、その種類の個々のリソースを表示します。

> [!TIP]
> **[リソースビュー]** ウィンドウを開くには、メニュー **[ビュー]**  > **他の Windows** > **リソースビュー**に移動するか、 **ctrl**+**Shift**+**E**キーを押します。

また、 **[リソースビュー]** ウィンドウを右クリックしてコマンドのショートカットメニューを表示するか、タイトルバーをダブルクリックしてウィンドウのドッキングとドッキング解除を行うこともできます。 ウィンドウの動作を制御するコマンドのタイトルバーを右クリックします。 詳細については、「 [Windows Management](/visualstudio/ide/customizing-window-layouts-in-visual-studio)」を参照してください。

**リソースビュー** windows には、 C++ windows デスクトップアプリケーションプロジェクトにリソースを追加するための次のプロパティを持つ [リソースの追加] ダイアログボックスがあります。

| プロパティ | 説明 |
|---|---|
| **リソースの種類** | 作成するリソースの種類を指定します。<br/><br/>カーソルとダイアログボックスのリソースカテゴリを展開すると、にある追加のリソースが表示さ*れます。\Microsoft Visual Studio \<version\>\\< LCID\>* 。または、。 .Rct ファイルを追加する必要がある場合は、ここに配置するか、別の[インクルードパス](../windows/how-to-specify-include-directories-for-resources.md)を指定します。 ツリーコントロールの最上位レベルに表示されるリソースは、Visual Studio によって提供される既定のリソースです。 .Rct ファイル内のリソースは、適切なカテゴリの2番目のレベルに表示されます。 追加できる .rct ファイルの数には、事前設定された制限はありません。<br/><br/> |
| **新規** | **[リソースの種類]** ボックスで選択した種類に基づいてリソースを作成し、適切なエディターでリソースを開きます。<br/><br/>たとえば、ダイアログリソースを作成すると、[ダイアログエディター](../windows/dialog-editor.md)にリソースが表示されます。 |
| **Import** | **[インポート]** ダイアログボックスを開いて、現在のプロジェクトにインポートするリソースに移動します。<br/><br/>ビットマップ、アイコン、カーソル、HTML、サウンド () をインポートできます。WAV)、またはカスタムリソースファイル。 |
| **カスタム** | カスタムリソースを作成するには、 **[新しいカスタムリソース]** ダイアログボックスを開きます。<br/><br/>には、カスタムリソースの種類の名前を入力するためのテキストボックスを提供する、**リソースの種類**のプロパティも含まれています。 をC++終了すると、その名前が自動的に大文字になります。 カスタムリソースは、[バイナリエディター](../windows/binary-editor.md)でのみ編集できます。 |

新しいリソースを作成すると、ビジュアルC++によって、`IDD_Dialog1`などの一意の名前が割り当てられます。 このリソース ID をカスタマイズするには、関連付けられているリソースエディターまたは[プロパティウィンドウ](/visualstudio/ide/reference/properties-window)でリソースのプロパティを編集します。

> [!NOTE]
> Visual Studio によって予約されているリソース名または ID を指定しないでください。 予約済みの名前は `DESIGNINFO`、`HWB`、および `TEXTINCLUDE`であり、予約済みの ID は `255`です。

### <a name="to-create-a-resource"></a>リソースを作成するには

- **リソースビュー**で、.rc ファイルを選択し、 **[編集]**  >  **[リソースの追加]** の順にクリックして、プロジェクトに追加するリソースの種類を選択します。

   > [!TIP]
   > **リソースビュー**で .rc ファイルを右クリックし、ショートカットメニューの **[リソースの追加]** をクリックすることもできます。

- **ソリューションエクスプローラー**で、プロジェクトフォルダーを右クリックし、[ > **追加**]、[**リソース**の追加] の順に選択して、プロジェクトに追加するリソースの種類を選択します。

   > [!NOTE]
   > プロジェクトに .rc ファイルがない場合は、この手順によって作成されます。 その後、この手順を繰り返すと、特定のリソースの種類を新しい .rc ファイルに追加できます。

- [クラスビュー](/visualstudio/ide/viewing-the-structure-of-code)で、クラスを右クリックし、[ > **追加**] をクリックして [**リソース**の追加] を選択し、プロジェクトに追加するリソースの種類を選択します。

- **[リソースの追加]**  > メニュー**プロジェクト**を使用します。

## <a name="use-resource-templates"></a>リソーステンプレートを使用する

リソーステンプレートは、.rct ファイルとして保存した、カスタマイズされたリソースです。 リソーステンプレートは、リソースを作成するための開始点として機能します。 リソーステンプレートは、標準コントロールや反復要素などの機能を共有する追加リソースまたはリソースグループの開発に時間を節約します。 たとえば、いくつかのダイアログボックスに会社のロゴアイコンを含む [ヘルプ] ボタンを追加する場合は、新しいダイアログボックステンプレートを作成し、[ヘルプ] ボタンとロゴでカスタマイズします。

リソーステンプレートをカスタマイズしたら、テンプレートフォルダーまたはインクルードパスで指定された場所に変更を保存します。これにより、[リソースの**追加**] ダイアログボックスのリソースの種類に新しいリソーステンプレートが表示されます。 これで、必要に応じて、新しいリソーステンプレートを使用できるようになりました。

> [!NOTE]
> リソース エディターによって一意のリソース ID が自動的に指定されます。 必要に応じて、[リソースのプロパティ](../windows/changing-the-properties-of-a-resource.md)を変更できます。

> [!NOTE]
> 言語固有のテンプレートファイルは、メインテンプレートディレクトリのサブディレクトリに配置します。 たとえば、英語専用のテンプレートファイルは *..\\< リソーステンプレートディレクトリ\>\ 1033*です。
>
> Visual Studio で新しい .rct ファイル検索 *\Program Files\Microsoft Visual Studio\<バージョン\>\VC\VCResourceTemplates*、 *\Program Files\Microsoft Visual Studio \<バージョン > \VC\VCResourceTemplates\\< LCID\>*  (など、1033 は英語の LCID)、または任意の場所に、[インクルード パス](../windows/how-to-specify-include-directories-for-resources.md)します。 .Rct ファイルを別の場所に保存する場合は、インクルードパスに場所を追加する必要があります。

### <a name="to-create-and-use-a-resource-template"></a>リソーステンプレートを作成して使用するには

1. **ソリューションエクスプローラー**で、プロジェクトを右クリックし、 **[追加]**  >  **[新しい項目の追加]** の順に選択します。

1. **[テンプレート:]** ウィンドウで、 **[リソーステンプレートファイル (.rct)]** を選択します。

1. 新しい *.rct*ファイルの名前と場所を指定し、 **[開く]** を選択します。

   新しい *.rct*ファイルがプロジェクトに追加され、 **[リソース]** フォルダーの下の**ソリューションエクスプローラー**に表示されます。

1. *.Rct*ファイルをダブルクリックして、ドキュメントウィンドウで開きます。 リソースを追加するには、ドキュメントウィンドウでファイルを右クリックし、 **[リソースの追加]** を選択します。

   追加したリソースをカスタマイズして、 *.rct*ファイルを保存することができます。

1. **リソースビュー**ペインで *.rc*ファイルを右クリックし、 **[リソースの追加]** を選択します。

1. リソースの横にあるプラス記号 ( **+** ) を選択して、リソースノードを展開し、そのリソースで使用可能なテンプレートを表示します。

1. 使用するテンプレートをダブルクリックします。

   リソースエディターで、必要に応じて追加されたリソースを変更できます。

### <a name="to-convert-an-existing-resource-file-to-a-template"></a>既存のリソースファイルをテンプレートに変換するには

リソーススクリプトファイルを開いた状態で、メニューの **[ファイル]** にアクセスし、 **\<*Filename*>** を > 保存します。 場所を指定し、[ **OK]** を選択します。

## <a name="requirements"></a>要件

Win32

## <a name="see-also"></a>参照

[リソース ファイル](../windows/resource-files-visual-studio.md)<br/>
[方法: リソースを管理する](../windows/how-to-copy-resources.md)<br/>
[方法: コンパイル時にリソースをインクルードする](../windows/how-to-include-resources-at-compile-time.md)<br/>